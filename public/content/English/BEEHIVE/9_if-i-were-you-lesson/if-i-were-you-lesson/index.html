<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>If I Were You - Interactive English Lesson</title>
    <link rel="stylesheet" href="css/styles.css">
    <meta name="description" content="Interactive English lesson based on 'If I Were You' by Douglas James">
</head>
<body>
    <!-- Navigation -->
    <nav class="nav-menu" role="navigation" aria-label="Main navigation">
        <div class="nav-items">
            <button class="nav-item active" onclick="showModule('intro')" aria-pressed="true">📚 Introduction</button>
            <button class="nav-item" onclick="showModule('prereading')" aria-pressed="false">📝 Let's Begin</button>
            <button class="nav-item" onclick="showModule('story')" aria-pressed="false">📖 The Story</button>
            <button class="nav-item" onclick="showModule('thinking-text')" aria-pressed="false">❓ Reading Comprehension</button>
            <button class="nav-item" onclick="showModule('thinking-language')" aria-pressed="false">🔤 Vocabulary & Grammar</button>
        </div>
    </nav>

    <!-- Audio Control -->
    <div class="audio-control">
        <button id="audioBtn" class="audio-btn" onclick="toggleAudio()" aria-label="Toggle audio narration">🔊</button>
    </div>

    <!-- Achievement Popup -->
    <div id="achievementPopup" class="achievement-popup" aria-live="polite">
        <div class="achievement-title">🏆 Achievement Unlocked!</div>
        <div class="achievement-desc" id="achievementDesc">You've completed a module!</div>
    </div>

    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1 class="title">📚 If I Were You</h1>
            <p class="subtitle">Beehive - Class IX</p>
            <p class="reprint">Reprint 2025-26</p>
        </header>

        <!-- Progress Tracker -->
        <div class="progress-container">
            <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
                <div class="progress-fill" id="progressBar">0%</div>
            </div>
            <div class="progress-stats">
                <span>📖 Modules: <span id="modulesComplete">0</span>/6</span>
                <span>⭐ Score: <span id="totalScore">0</span></span>
                <span>⏱️ Time: <span id="timeSpent">0:00</span></span>
            </div>
        </div>

        <!-- Introduction Module -->
        <div class="module active" id="intro">
            <div class="exercise-card">
                <h2 class="exercise-title">
                    <span class="exercise-icon">🌟</span>
                    Welcome to "If I Were You"
                </h2>
                <div class="content-block">
                    <p>This is a one-act play about a professional mimicry artist named Gerrard who lives alone in a cottage. An intruder breaks into his house with the intent to murder him and assume his identity. The play explores themes of quick thinking, wit, and presence of mind in dangerous situations.</p>
                    <p>In this interactive lesson, we'll explore Douglas James' thrilling play through the eyes of Gerrard and examine how he outsmarts the intruder using intelligence and quick thinking rather than physical strength.</p>
                </div>
                <div class="button-container">
                    <button class="interactive-btn" onclick="startJourney()" aria-label="Begin the lesson">
                        🚀 Start Your Learning Journey
                    </button>
                </div>
            </div>
        </div>

        <!-- Let's Begin Module -->
        <div class="module" id="prereading">
            <div class="exercise-card">
                <h2 class="exercise-title">
                    <span class="exercise-icon">📝</span>
                    Let's Begin
                </h2>
                <div class="content-block">
                    <p>Gerrard lives alone in a lonely cottage. An intruder, who is a criminal, enters his cottage. He intends to murder Gerrard and take on his identity. Does he succeed?</p>
                    <p>Let's first understand some vocabulary we'll encounter in the play.</p>
                </div>
                
                <h3 class="activity-title">Pre-Reading Activity: Vocabulary Match</h3>
                <div class="content-block">
                    <p>The following words and phrases occur in the play. Do you know their meanings? Match them with the meanings given.</p>
                    <p>Try to guess the meanings before checking the answers:</p>
                    <ul>
                        <li><strong>cultured</strong> - sophisticated; well mannered</li>
                        <li><strong>count on</strong> - depend on; rely on</li>
                        <li><strong>engaged</strong> - occupied; busy</li>
                        <li><strong>melodramatic</strong> - exaggerated</li>
                        <li><strong>inflection</strong> - here, a tone of voice</li>
                        <li><strong>wise guy</strong> - (American English) a person who pretends to know a lot</li>
                        <li><strong>a dandy bus</strong> - an informal expression for a fashionable vehicle</li>
                        <li><strong>tradespeople</strong> - merchants</li>
                        <li><strong>gratuitous</strong> - unnecessary and usually harmful</li>
                        <li><strong>dodge</strong> - avoid</li>
                        <li><strong>lucky break</strong> - an unexpected opportunity for success</li>
                        <li><strong>Sunday-school teacher</strong> - a Christian religious teacher who teaches on Sundays in Church</li>
                        <li><strong>frame</strong> - trap</li>
                    </ul>
                </div>
                
                <div class="reflection-exercise">
                    <textarea id="reflectionText" rows="5" placeholder="Write your reflection here... Have you ever been in a situation where you had to think quickly to get out of trouble?"></textarea>
                    <button class="interactive-btn" onclick="saveReflection()">
                        Save Reflection
                    </button>
                    <div id="reflectionFeedback" class="feedback-message" aria-live="polite"></div>
                </div>
            </div>
        </div>

        <!-- Story Module -->
        <div class="module" id="story">
            <div class="story-reader">
                <h2 class="section-title">IF I WERE YOU</h2>
                
                <div class="story-controls">
                    <button class="reading-mode-btn" onclick="toggleReadAloud()" aria-label="Read the text aloud">
                        🔊 Read Aloud
                    </button>
                    <button class="reading-mode-btn" onclick="highlightVocabulary()" aria-label="Highlight vocabulary words">
                        ✨ Highlight Vocabulary
                    </button>
                    <button class="reading-mode-btn" onclick="togglePrintMode()" aria-label="Toggle print-friendly mode">
                        🖨️ Print Mode
                    </button>
                </div>
                
                <div class="story-content" id="storyContent">
                    <!-- Story content will be loaded dynamically via JavaScript -->
                </div>
            </div>
        </div>


        <!-- Reading Comprehension Module -->
        <div class="module" id="thinking-text">
            <div class="exercise-card">
                <h2 class="exercise-title">
                    <span class="exercise-icon">❓</span>
                    Reading Comprehension Questions
                </h2>
                
                <!-- No navigation needed with only one set of questions -->
                
                <div id="textQuestions" class="question-section">
                    <!-- Questions will be loaded dynamically -->
                </div>
            </div>
        </div>

        <!-- Vocabulary & Grammar Module -->
        <div class="module" id="thinking-language">
            <div class="exercise-card">
                <h2 class="exercise-title">
                    <span class="exercise-icon">🔍</span>
                    Irony in Language
                </h2>
                <div class="content-block">
                    <p>Irony is when we say one thing but mean another, usually the opposite of what we say. When someone makes a mistake and you say, "Oh! that was clever!", that is irony. You're saying 'clever' to mean 'not clever'.</p>
                    <p>Expressions we often use in an ironic fashion are:</p>
                    <ul>
                        <li>Oh, wasn't that clever!/Oh that was clever!</li>
                        <li>You have been a great help, I must say!</li>
                        <li>You've got yourself into a lovely mess, haven't you?</li>
                        <li>Oh, very funny!/ How funny!</li>
                    </ul>
                    <p>We use a slightly different tone of voice when we use these words ironically.</p>
                </div>
                
                <div class="vocabulary-exercise">
                    <h3>Find the ironic expressions in the play and what they really mean:</h3>
                    <div class="vocab-question">
                        <p>1. "Why, this is a surprise, Mr— er —" <select id="vocab1">
                            <option value="">Select</option>
                            <option value="correct">He pretends the intruder is a social visitor to hide his fear</option>
                            <option value="incorrect1">He is genuinely surprised by the visitor</option>
                            <option value="incorrect2">He is happy to see the intruder</option>
                            <option value="incorrect3">He knew the intruder was coming</option>
                        </select></p>
                    </div>
                    <div class="vocab-question">
                        <p>2. "At last a sympathetic audience!" <select id="vocab2">
                            <option value="">Select</option>
                            <option value="incorrect1">Gerrard is grateful someone wants to hear his story</option>
                            <option value="incorrect2">Gerrard has been looking for someone to talk to</option>
                            <option value="correct">He pretends the intruder wants to listen to him, when actually the intruder wants information for his own use</option>
                            <option value="incorrect3">Gerrard is telling the truth about his audience</option>
                        </select></p>
                    </div>
                    <div class="vocab-question">
                        <p>3. "Anything you like. I know all the answers." <select id="vocab3">
                            <option value="">Select</option>
                            <option value="incorrect1">Gerrard is showing off his knowledge</option>
                            <option value="correct">Gerrard is being sarcastic about the intruder's questioning</option>
                            <option value="incorrect2">Gerrard really does know everything</option>
                            <option value="incorrect3">Gerrard is offering genuine help</option>
                        </select></p>
                    </div>
                    <button class="interactive-btn" onclick="checkVocabulary()">Check Answers</button>
                    <div id="vocabFeedback" class="feedback-message" aria-live="polite"></div>
                </div>
            </div>

            <div class="exercise-card">
                <h2 class="exercise-title">
                    <span class="exercise-icon">📚</span>
                    Dictionary Skills
                </h2>
                <div class="content-block">
                    <p>A word can mean different things in different contexts. Look at these three sentences:</p>
                    <ul>
                        <li>The students are taught to respect different cultures.</li>
                        <li>The school is organising a cultural show.</li>
                        <li>His voice is cultured.</li>
                    </ul>
                    <p>In the first sentence, 'culture' (noun) means way of life; in the second, 'cultural' (adjective) means connected with art, literature and music; and in the third, 'cultured' (verb) means sophisticated, well mannered.</p>
                </div>
                
                <div class="matching-game">
                    <h3>Complete the following table using a dictionary for the given words:</h3>
                    
                    <div class="contraction-item">
                        <p><strong>sympathy</strong> - Noun: <input type="text" class="contraction-input" data-answer="the feeling of being sorry for someone"></p>
                    </div>
                    <div class="contraction-item">
                        <p><strong>familiarity</strong> - Noun: <input type="text" class="contraction-input" data-answer="good knowledge of something"></p>
                    </div>
                    <div class="contraction-item">
                        <p><strong>comfort</strong> - Verb: <input type="text" class="contraction-input" data-answer="to make someone feel less worried or unhappy"></p>
                    </div>
                    <div class="contraction-item">
                        <p><strong>care</strong> - Verb: <input type="text" class="contraction-input" data-answer="to feel that something is important and worth worrying about"></p>
                    </div>
                    <div class="contraction-item">
                        <p><strong>surprise</strong> - Noun: <input type="text" class="contraction-input" data-answer="an unexpected event or fact"></p>
                    </div>
                    
                    <button class="interactive-btn" onclick="checkDictionary()">Check Answers</button>
                    <div id="dictionaryFeedback" class="feedback-message" aria-live="polite"></div>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <p>&copy; 2025 Interactive English Lesson - If I Were You</p>
    </footer>

    <script src="js/main.js"></script>
    <script src="js/if-i-were-you-story.js"></script>
    <script src="js/questions.js"></script>
    <script src="js/activities.js"></script>
</body>
</html>
