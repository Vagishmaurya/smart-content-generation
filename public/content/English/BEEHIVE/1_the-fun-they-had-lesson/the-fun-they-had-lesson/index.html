<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Fun They Had - Interactive English Lesson</title>
    <link rel="stylesheet" href="css/styles.css">
    <meta name="description" content="Interactive English lesson based on 'The Fun They Had' by Isaac Asimov">
</head>
<body>
    <!-- Navigation -->
    <nav class="nav-menu" role="navigation" aria-label="Main navigation">
        <div class="nav-items">
            <button class="nav-item active" onclick="showModule('intro')" aria-pressed="true">📚 Introduction</button>
            <button class="nav-item" onclick="showModule('prereading')" aria-pressed="false">📝 Let's Begin</button>
            <button class="nav-item" onclick="showModule('story')" aria-pressed="false">📖 The Story</button>
            <button class="nav-item" onclick="showModule('poem')" aria-pressed="false">🎭 The Poem</button>
            <button class="nav-item" onclick="showModule('thinking-text')" aria-pressed="false">❓ Reading Comprehension</button>
            <button class="nav-item" onclick="showModule('thinking-language')" aria-pressed="false">🔤 Vocabulary & Grammar</button>
        </div>
    </nav>

    <!-- Audio Control -->
    <div class="audio-control">
        <button id="audioBtn" class="audio-btn" onclick="toggleAudio()" aria-label="Toggle audio narration">🔊</button>
    </div>

    <!-- Achievement Popup -->
    <div id="achievementPopup" class="achievement-popup" aria-live="polite">
        <div class="achievement-title">🏆 Achievement Unlocked!</div>
        <div class="achievement-desc" id="achievementDesc">You've completed a module!</div>
    </div>

    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1 class="title">📚 The Fun They Had</h1>
            <p class="subtitle">Beehive - Class IX</p>
            <p class="reprint">Reprint 2025-26</p>
        </header>

        <!-- Progress Tracker -->
        <div class="progress-container">
            <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
                <div class="progress-fill" id="progressBar">0%</div>
            </div>
            <div class="progress-stats">
                <span>📖 Modules: <span id="modulesComplete">0</span>/6</span>
                <span>⭐ Score: <span id="totalScore">0</span></span>
                <span>⏱️ Time: <span id="timeSpent">0:00</span></span>
            </div>
        </div>

        <!-- Introduction Module -->
        <div class="module active" id="intro">
            <div class="exercise-card">
                <h2 class="exercise-title">
                    <span class="exercise-icon">🌟</span>
                    Welcome to "The Fun They Had"
                </h2>
                <div class="content-block">
                    <p>This story takes us to the world of the future where computers will play a major role. It's a science fiction story about how schools might look in the distant future, and it raises interesting questions about education, technology, and human connection.</p>
                    <p>In this interactive lesson, we'll explore Isaac Asimov's vision of future education through the eyes of Margie, a young student in the year 2157, and compare it to the schools of the past - which are our present-day schools.</p>
                </div>
                <div class="button-container">
                    <button class="interactive-btn" onclick="startJourney()" aria-label="Begin the lesson">
                        🚀 Start Your Learning Journey
                    </button>
                </div>
            </div>
        </div>

        <!-- Let's Begin Module -->
        <div class="module" id="prereading">
            <div class="exercise-card">
                <h2 class="exercise-title">
                    <span class="exercise-icon">📝</span>
                    Let's Begin
                </h2>
                <div class="content-block">
                    <p>The story we shall read is set in the future, when books and schools as we now know them will perhaps not exist. How will children study then?</p>
                    <p>Let's think about the schools of the future. They might include virtual classrooms, learning through computers, robotic teachers, moving e-text, and many other technological innovations.</p>
                </div>
                
                <h3 class="activity-title">Pre-Reading Activity: Schools of the Future</h3>
                <div class="content-block">
                    <p>In pairs, discuss three things that you like best about your school and three things about your school that you would like to change.</p>
                    <p>Have you ever read words on a television (or computer) screen? Can you imagine a time when all books will be on computers, and there will be no books printed on paper? Would you like such books better?</p>
                </div>
                
                <div class="reflection-exercise">
                    <textarea id="reflectionText" rows="5" placeholder="Write your reflection here..."></textarea>
                    <button class="interactive-btn" onclick="saveReflection()">
                        Save Reflection
                    </button>
                    <div id="reflectionFeedback" class="feedback-message" aria-live="polite"></div>
                </div>
            </div>
        </div>

        <!-- Story Module -->
        <div class="module" id="story">
            <div class="story-reader">
                <h2 class="section-title">THE FUN THEY HAD</h2>
                
                <div class="story-controls">
                    <button class="reading-mode-btn" onclick="toggleReadAloud()" aria-label="Read the text aloud">
                        🔊 Read Aloud
                    </button>
                    <button class="reading-mode-btn" onclick="highlightVocabulary()" aria-label="Highlight vocabulary words">
                        ✨ Highlight Vocabulary
                    </button>
                    <button class="reading-mode-btn" onclick="togglePrintMode()" aria-label="Toggle print-friendly mode">
                        🖨️ Print Mode
                    </button>
                </div>
                
                <div class="story-content" id="storyContent">
                    <!-- Story content will be loaded dynamically via JavaScript -->
                </div>
            </div>
        </div>

        <!-- Poem Module -->
        <div class="module" id="poem">
            <div class="story-reader">
                <h2 class="section-title">THE ROAD NOT TAKEN</h2>
                
                <div class="story-controls">
                    <button class="reading-mode-btn" onclick="readPoemAloud()" aria-label="Read the poem aloud">
                        🔊 Read Aloud
                    </button>
                    <button class="reading-mode-btn" onclick="highlightPoemVocabulary()" aria-label="Highlight vocabulary words">
                        ✨ Highlight Vocabulary
                    </button>
                    <button class="reading-mode-btn" onclick="togglePrintMode()" aria-label="Toggle print-friendly mode">
                        🖨️ Print Mode
                    </button>
                </div>
                
                <div class="poem-content" id="poemContent">
                    <!-- Poem content will be loaded dynamically via JavaScript -->
                </div>
            </div>
        </div>

        <!-- Reading Comprehension Module -->
        <div class="module" id="thinking-text">
            <div class="exercise-card">
                <h2 class="exercise-title">
                    <span class="exercise-icon">❓</span>
                    Reading Comprehension Questions
                </h2>
                
                <div class="story-navigation">
                    <button class="story-nav-btn active" onclick="showQuestionSet('story-questions')" aria-pressed="true">Story Questions</button>
                    <button class="story-nav-btn" onclick="showQuestionSet('poem-questions')" aria-pressed="false">Poem Questions</button>
                </div>
                
                <div id="textQuestions" class="question-section">
                    <!-- Questions will be loaded dynamically -->
                </div>
            </div>
        </div>

        <!-- Vocabulary & Grammar Module -->
        <div class="module" id="thinking-language">
            <div class="exercise-card">
                <h2 class="exercise-title">
                    <span class="exercise-icon">🔍</span>
                    Adverbs
                </h2>
                <div class="content-block">
                    <p>Read this sentence taken from the story:</p>
                    <blockquote>They had once taken Tommy's teacher away for nearly a month because the history sector had blanked out completely.</blockquote>
                    <p>The word <strong>complete</strong> is an adjective. When you add <strong>–ly</strong> to it, it becomes an adverb.</p>
                </div>
                
                <div class="vocabulary-exercise">
                    <h3>Find the sentences in the lesson which have the following adverbs:</h3>
                    <div class="vocab-question">
                        <p>awfully, sorrowfully, completely, loftily, carefully, differently, quickly, nonchalantly</p>
                    </div>
                    
                    <h3>Now use these adverbs to fill in the blanks in the sentences below:</h3>
                    <div class="vocab-question">
                        <p>1. The report must be read <select id="vocab1">
                            <option value="">Select</option>
                            <option value="carefully">carefully</option>
                            <option value="completely">completely</option>
                            <option value="quickly">quickly</option>
                            <option value="sorrowfully">sorrowfully</option>
                        </select> so that performance can be improved.</p>
                    </div>
                    <div class="vocab-question">
                        <p>2. At the interview, Sameer answered our questions <select id="vocab2">
                            <option value="">Select</option>
                            <option value="nonchalantly">nonchalantly</option>
                            <option value="carefully">carefully</option>
                            <option value="differently">differently</option>
                            <option value="completely">completely</option>
                        </select>, shrugging his shoulders.</p>
                    </div>
                    <div class="vocab-question">
                        <p>3. We all behave <select id="vocab3">
                            <option value="">Select</option>
                            <option value="differently">differently</option>
                            <option value="completely">completely</option>
                            <option value="carefully">carefully</option>
                            <option value="awfully">awfully</option>
                        </select> when we are tired or hungry.</p>
                    </div>
                    <div class="vocab-question">
                        <p>4. The teacher shook her head <select id="vocab4">
                            <option value="">Select</option>
                            <option value="sorrowfully">sorrowfully</option>
                            <option value="carefully">carefully</option>
                            <option value="differently">differently</option>
                            <option value="loftily">loftily</option>
                        </select> when Ravi lied to her.</p>
                    </div>
                    <div class="vocab-question">
                        <p>5. I <select id="vocab5">
                            <option value="">Select</option>
                            <option value="completely">completely</option>
                            <option value="quickly">quickly</option>
                            <option value="carefully">carefully</option>
                            <option value="sorrowfully">sorrowfully</option>
                        </select> forgot about it.</p>
                    </div>
                    <button class="interactive-btn" onclick="checkVocabulary()">Check Answers</button>
                    <div id="vocabFeedback" class="feedback-message" aria-live="polite"></div>
                </div>
            </div>

            <div class="exercise-card">
                <h2 class="exercise-title">
                    <span class="exercise-icon">📚</span>
                    If Not and Unless
                </h2>
                <div class="content-block">
                    <p>Imagine that Margie's mother told her, "You'll feel awful if you don't finish your history lesson."</p>
                    <p>She could also say: "You'll feel awful unless you finish your history lesson."</p>
                    <p><strong>Unless</strong> means <strong>if not</strong>. Sentences with <strong>unless</strong> or <strong>if not</strong> are negative conditional sentences.</p>
                </div>
                
                <div class="matching-game">
                    <h3>Complete the following conditional sentences. Use the correct form of the verb.</h3>
                    
                    <div class="contraction-item">
                        <p>1. If I don't go to Anu's party tonight, <input type="text" class="contraction-input" data-answer="she will be disappointed"></p>
                    </div>
                    <div class="contraction-item">
                        <p>2. If you don't telephone the hotel to order food, <input type="text" class="contraction-input" data-answer="we will get hungry"></p>
                    </div>
                    <div class="contraction-item">
                        <p>3. Unless you promise to write back, I <input type="text" class="contraction-input" data-answer="won't send you any more letters"></p>
                    </div>
                    <div class="contraction-item">
                        <p>4. If she doesn't play any games, <input type="text" class="contraction-input" data-answer="she will become lazy"></p>
                    </div>
                    <div class="contraction-item">
                        <p>5. Unless that little bird flies away quickly, the cat <input type="text" class="contraction-input" data-answer="will catch it"></p>
                    </div>
                    
                    <button class="interactive-btn" onclick="checkConditionals()">Check Answers</button>
                    <div id="conditionalssFeedback" class="feedback-message" aria-live="polite"></div>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <p>&copy; 2025 Interactive English Lesson - The Fun They Had</p>
    </footer>

    <script src="js/main.js"></script>
    <script src="js/the-fun-they-had-story.js"></script>
    <script src="js/questions.js"></script>
    <script src="js/activities.js"></script>
</body>
</html>
