<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Sermon at Benares - Interactive English Lesson</title>
    <link rel="stylesheet" href="css/styles.css">
    <meta name="description" content="Interactive English lesson based on 'The Sermon at Benares' about the Buddha's wisdom">
</head>
<body>
    <!-- Navigation -->
    <nav class="nav-menu" role="navigation" aria-label="Main navigation">
        <div class="nav-items">
            <button class="nav-item active" onclick="showModule('intro')" aria-pressed="true">📚 Introduction</button>
            <button class="nav-item" onclick="showModule('prereading')" aria-pressed="false">📝 Let's Begin</button>
            <button class="nav-item" onclick="showModule('story')" aria-pressed="false">📖 The Story</button>
            <button class="nav-item" onclick="showModule('poem')" aria-pressed="false">🎭 The Poem</button>
            <button class="nav-item" onclick="showModule('thinking-text')" aria-pressed="false">❓ Reading Comprehension</button>
            <button class="nav-item" onclick="showModule('thinking-language')" aria-pressed="false">🔤 Vocabulary & Grammar</button>
        </div>
    </nav>

    <!-- Audio Control -->
    <div class="audio-control">
        <button id="audioBtn" class="audio-btn" onclick="toggleAudio()" aria-label="Toggle audio narration">🔊</button>
    </div>

    <!-- Achievement Popup -->
    <div id="achievementPopup" class="achievement-popup" aria-live="polite">
        <div class="achievement-title">🏆 Achievement Unlocked!</div>
        <div class="achievement-desc" id="achievementDesc">You've completed a module!</div>
    </div>

    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1 class="title">📚 The Sermon at Benares</h1>
            <p class="subtitle">First Flight - Class X</p>
            <p class="reprint">Reprint 2025-26</p>
        </header>

        <!-- Progress Tracker -->
        <div class="progress-container">
            <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
                <div class="progress-fill" id="progressBar">0%</div>
            </div>
            <div class="progress-stats">
                <span>📖 Modules: <span id="modulesComplete">0</span>/6</span>
                <span>⭐ Score: <span id="totalScore">0</span></span>
                <span>⏱️ Time: <span id="timeSpent">0:00</span></span>
            </div>
        </div>

        <!-- Introduction Module -->
        <div class="module active" id="intro">
            <div class="exercise-card">
                <h2 class="exercise-title">
                    <span class="exercise-icon">🌟</span>
                    Welcome to "The Sermon at Benares"
                </h2>
                <div class="content-block">
                    <p>In this text the Buddha preaches his first sermon at the city of Benares, which is holy to the Hindus. He talks about sorrow and suffering, the cause of sorrow and suffering, and the path that frees us from sorrow and suffering.</p>
                    <p>In this interactive lesson, we'll explore the Buddha's wisdom about dealing with grief and the universal nature of suffering through the story of Kisa Gotami, a bereaved mother who learns a profound lesson about life and death.</p>
                </div>
                <div class="button-container">
                    <button class="interactive-btn" onclick="startJourney()" aria-label="Begin the lesson">
                        🚀 Start Your Learning Journey
                    </button>
                </div>
            </div>
        </div>

        <!-- Let's Begin Module -->
        <div class="module" id="prereading">
            <div class="exercise-card">
                <h2 class="exercise-title">
                    <span class="exercise-icon">📝</span>
                    Let's Begin
                </h2>
                <div class="content-block">
                    <p>Use a dictionary or ask for your teacher's help as you discuss the following questions in groups.</p>
                    <p>What is a sermon? Is it different from a lecture or a talk? Can this word also be used in a negative way or as a joke (as in "my mother's sermon about getting my work done on time...")?</p>
                    <p>Find out the meanings of the following words and phrases:</p>
                    <ul>
                        <li>afflicted with</li>
                        <li>be composed</li>
                        <li>desolation</li>
                        <li>lamentation</li>
                        <li>procure</li>
                        <li>be subject to</li>
                    </ul>
                    <p>Have you heard of the Sermon on the Mount? Who delivered it? Who do you think delivered a sermon at Benares?</p>
                </div>
                
                <h3 class="activity-title">Pre-Reading Activity: Understanding Suffering</h3>
                <div class="content-block">
                    <p>In pairs, discuss how you deal with difficult situations in life. How do you cope with sadness or disappointment? What helps you feel better when you're upset?</p>
                    <p>Do you think everyone experiences suffering in the same way? How might different cultures or religions approach the concept of suffering?</p>
                </div>
                
                <div class="reflection-exercise">
                    <textarea id="reflectionText" rows="5" placeholder="Write your reflection here..."></textarea>
                    <button class="interactive-btn" onclick="saveReflection()">
                        Save Reflection
                    </button>
                    <div id="reflectionFeedback" class="feedback-message" aria-live="polite"></div>
                </div>
            </div>
        </div>

        <!-- Story Module -->
        <div class="module" id="story">
            <div class="story-reader">
                <h2 class="section-title">THE SERMON AT BENARES</h2>
                
                <div class="story-controls">
                    <button class="reading-mode-btn" onclick="toggleReadAloud()" aria-label="Read the text aloud">
                        🔊 Read Aloud
                    </button>
                    <button class="reading-mode-btn" onclick="highlightVocabulary()" aria-label="Highlight vocabulary words">
                        ✨ Highlight Vocabulary
                    </button>
                    <button class="reading-mode-btn" onclick="togglePrintMode()" aria-label="Toggle print-friendly mode">
                        🖨️ Print Mode
                    </button>
                </div>
                
                <div class="story-content" id="storyContent">
                    <!-- Story content will be loaded dynamically via JavaScript -->
                </div>
            </div>
        </div>

        <!-- Poem Module -->
        <div class="module" id="poem">
            <div class="story-reader">
                <h2 class="section-title">FOR ANNE GREGORY</h2>
                
                <div class="story-controls">
                    <button class="reading-mode-btn" onclick="readPoemAloud()" aria-label="Read the poem aloud">
                        🔊 Read Aloud
                    </button>
                    <button class="reading-mode-btn" onclick="highlightPoemVocabulary()" aria-label="Highlight vocabulary words">
                        ✨ Highlight Vocabulary
                    </button>
                    <button class="reading-mode-btn" onclick="togglePrintMode()" aria-label="Toggle print-friendly mode">
                        🖨️ Print Mode
                    </button>
                </div>
                
                <div class="poem-content" id="poemContent">
                    <!-- Poem content will be loaded dynamically via JavaScript -->
                </div>
            </div>
        </div>

        <!-- Reading Comprehension Module -->
        <div class="module" id="thinking-text">
            <div class="exercise-card">
                <h2 class="exercise-title">
                    <span class="exercise-icon">❓</span>
                    Reading Comprehension Questions
                </h2>
                
                <div class="story-navigation">
                    <button class="story-nav-btn active" onclick="showQuestionSet('story-questions')" aria-pressed="true">Story Questions</button>
                    <button class="story-nav-btn" onclick="showQuestionSet('poem-questions')" aria-pressed="false">Poem Questions</button>
                </div>
                
                <div id="textQuestions" class="question-section">
                    <!-- Questions will be loaded dynamically -->
                </div>
            </div>
        </div>

        <!-- Vocabulary & Grammar Module -->
        <div class="module" id="thinking-language">
            <div class="exercise-card">
                <h2 class="exercise-title">
                    <span class="exercise-icon">🔍</span>
                    Vocabulary in Context
                </h2>
                <div class="content-block">
                    <p>Read this sentence taken from the story:</p>
                    <blockquote>The Buddha answered, "I want a handful of mustard-seed." And when the girl in her joy promised to procure it, the Buddha added, "The mustard-seed must be taken from a house where no one has lost a child, husband, parent or friend."</blockquote>
                    <p>The word <strong>procure</strong> means "to get or obtain." It's a formal way of saying "get" or "find."</p>
                </div>
                
                <div class="vocabulary-exercise">
                    <h3>Choose the correct vocabulary words to fill in the blanks:</h3>
                    <div class="vocab-question">
                        <p>1. Living in a palace <select id="vocab1">
                            <option value="">Select</option>
                            <option value="befitted">befitted</option>
                            <option value="shielded">shielded</option>
                            <option value="repaired">repaired</option>
                            <option value="chanced upon">chanced upon</option>
                        </select> royalty, so the prince enjoyed luxurious surroundings.</p>
                    </div>
                    <div class="vocab-question">
                        <p>2. As a child, the prince was <select id="vocab2">
                            <option value="">Select</option>
                            <option value="shielded">shielded</option>
                            <option value="befitted">befitted</option>
                            <option value="composed">composed</option>
                            <option value="chanced upon">chanced upon</option>
                        </select> from the suffering of the world outside the palace walls.</p>
                    </div>
                    <div class="vocab-question">
                        <p>3. The world is <select id="vocab3">
                            <option value="">Select</option>
                            <option value="afflicted with">afflicted with</option>
                            <option value="befitted">befitted</option>
                            <option value="composed">composed</option>
                            <option value="inscrutable">inscrutable</option>
                        </select> death and decay, therefore the wise do not grieve.</p>
                    </div>
                    <div class="vocab-question">
                        <p>4. Her <select id="vocab4">
                            <option value="">Select</option>
                            <option value="lamentation">lamentation</option>
                            <option value="afflicted with">afflicted with</option>
                            <option value="valley of desolation">valley of desolation</option>
                            <option value="sermon">sermon</option>
                        </select> over her son's death could be heard throughout the village.</p>
                    </div>
                    <div class="vocab-question">
                        <p>5. After learning the truth about suffering, Kisa Gotami became <select id="vocab5">
                            <option value="">Select</option>
                            <option value="composed">composed</option>
                            <option value="afflicted with">afflicted with</option>
                            <option value="inscrutable">inscrutable</option>
                            <option value="chanced upon">chanced upon</option>
                        </select> and found peace of mind.</p>
                    </div>
                    <button class="interactive-btn" onclick="checkVocabulary()">Check Answers</button>
                    <div id="vocabFeedback" class="feedback-message" aria-live="polite"></div>
                </div>
            </div>

            <div class="exercise-card">
                <h2 class="exercise-title">
                    <span class="exercise-icon">📚</span>
                    Old-Fashioned Language
                </h2>
                <div class="content-block">
                    <p>This text is written in an old-fashioned style, for it reports an incident more than two millennia old. Try to rephrase these expressions in more current language:</p>
                </div>
                
                <div class="matching-game">
                    <h3>Rephrase the following expressions in modern English:</h3>
                    
                    <div class="contraction-item">
                        <p>1. "I cannot give thee medicine for thy child" means <input type="text" class="rephrasing-input" placeholder="Write modern version..."></p>
                    </div>
                    <div class="contraction-item">
                        <p>2. "Pray tell me" means <input type="text" class="rephrasing-input" placeholder="Write modern version..."></p>
                    </div>
                    <div class="contraction-item">
                        <p>3. "Kisa repaired to the Buddha" means <input type="text" class="rephrasing-input" placeholder="Write modern version..."></p>
                    </div>
                    <div class="contraction-item">
                        <p>4. "There was no house but someone had died in it" means <input type="text" class="rephrasing-input" placeholder="Write modern version..."></p>
                    </div>
                    <div class="contraction-item">
                        <p>5. "Kinsmen" means <input type="text" class="rephrasing-input" placeholder="Write modern version..."></p>
                    </div>
                    
                    <button class="interactive-btn" onclick="checkRephrasing()">Check Answers</button>
                    <div id="rephrasingFeedback" class="feedback-message" aria-live="polite"></div>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <p>&copy; 2025 Interactive English Lesson - The Sermon at Benares</p>
    </footer>

    <script src="js/main.js"></script>
    <script src="js/sermon-at-benares-story.js"></script>
    <script src="js/questions.js"></script>
    <script src="js/activities.js"></script>
</body>
</html>
