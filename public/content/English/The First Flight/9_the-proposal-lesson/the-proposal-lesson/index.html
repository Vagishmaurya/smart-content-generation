<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Proposal - Interactive English Lesson</title>
    <link rel="stylesheet" href="css/styles.css">
    <meta name="description" content="Interactive English lesson based on 'The Proposal' by Anton Chekhov">
</head>
<body>
    <!-- Navigation -->
    <nav class="nav-menu" role="navigation" aria-label="Main navigation">
        <div class="nav-items">
            <button class="nav-item active" onclick="showModule('intro')" aria-pressed="true">üìö Introduction</button>
            <button class="nav-item" onclick="showModule('prereading')" aria-pressed="false">üìù Let's Begin</button>
            <button class="nav-item" onclick="showModule('story')" aria-pressed="false">üìñ The Play</button>
            <button class="nav-item" onclick="showModule('thinking-text')" aria-pressed="false">‚ùì Reading Comprehension</button>
            <button class="nav-item" onclick="showModule('thinking-language')" aria-pressed="false">üî§ Vocabulary & Grammar</button>
        </div>
    </nav>

    <!-- Audio Control -->
    <div class="audio-control">
        <button id="audioBtn" class="audio-btn" onclick="toggleAudio()" aria-label="Toggle audio narration">üîä</button>
    </div>

    <!-- Achievement Popup -->
    <div id="achievementPopup" class="achievement-popup" aria-live="polite">
        <div class="achievement-title">üèÜ Achievement Unlocked!</div>
        <div class="achievement-desc" id="achievementDesc">You've completed a module!</div>
    </div>

    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1 class="title">üé≠ The Proposal</h1>
            <p class="subtitle">First Flight - Class X</p>
            <p class="reprint">Reprint 2025-26</p>
        </header>

        <!-- Progress Tracker -->
        <div class="progress-container">
            <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
                <div class="progress-fill" id="progressBar">0%</div>
            </div>
            <div class="progress-stats">
                <span>üìñ Modules: <span id="modulesComplete">0</span>/5</span>
                <span>‚≠ê Score: <span id="totalScore">0</span></span>
                <span>‚è±Ô∏è Time: <span id="timeSpent">0:00</span></span>
            </div>
        </div>

        <!-- Introduction Module -->
        <div class="module active" id="intro">
            <div class="exercise-card">
                <h2 class="exercise-title">
                    <span class="exercise-icon">üåü</span>
                    Welcome to "The Proposal"
                </h2>
                <div class="content-block">
                    <p>This is a one-act play, a farce, by the Russian short story writer and dramatist Anton Chekhov. It was written in 1888‚Äì89.</p>
                    <p>The play is about the tendency of wealthy families to seek ties with other wealthy families, to increase their estates by encouraging marriages that make good economic sense. Ivan Lomov, a long time wealthy neighbour of Stepan Chubukov, also wealthy, comes to seek the hand of Chubukov's twenty-five-year-old daughter, Natalya.</p>
                    <p>All three are quarrelsome people, and they quarrel over petty issues. The proposal is in danger of being forgotten amidst all this quarrelling. But economic good sense ensures that the proposal is made, after all ‚Äî although the quarrelling perhaps continues!</p>
                </div>
                <div class="button-container">
                    <button class="interactive-btn" onclick="startJourney()" aria-label="Begin the lesson">
                        üöÄ Start Your Learning Journey
                    </button>
                </div>
            </div>
        </div>

        <!-- Let's Begin Module -->
        <div class="module" id="prereading">
            <div class="exercise-card">
                <h2 class="exercise-title">
                    <span class="exercise-icon">üìù</span>
                    Let's Begin
                </h2>
                <div class="content-block">
                    <h3>BEFORE YOU READ</h3>
                    <p>Activity</p>
                    <p>1. The word 'proposal' has several meanings. Can you guess what sort of proposal the play is about?</p>
                    <ul>
                        <li>(i) a suggestion, plan or scheme for doing something</li>
                        <li>(ii) an offer for a possible plan or action</li>
                        <li>(iii) the act of asking someone's hand in marriage</li>
                    </ul>
                </div>
                
                <h3 class="activity-title">A Russian Wedding</h3>
                <div class="content-block">
                    <p>Do you know anything about a Russian marriage ceremony? Read this article about a Russian wedding.</p>
                    <p>Preparations for a Russian Wedding: A Russian wedding is very simple. The planning only includes arranging for rings, brides' dress, cars, and a reception. Earlier, the bride's family paid for the reception, but now-a-days brides' and grooms' families usually share expenses. A Russian wedding lasts for two days; some weddings last as long as a week, and the occasion becomes something to remember for years.</p>
                    <p>The necessary part of the wedding ceremony is a wedding procession of several cars. The best friends of the groom/bride meet before the wedding a few times, make posters, write speeches and organise contests. When the groom arrives to fetch the bride for the registration, he has to fight to get her! Russians usually live in apartments in tall buildings, and the groom has to climb several stairs to reach his bride. But at each landing he must answer a question to be allowed to go up. The bride's friends ask difficult questions (sometimes about the bride, sometimes just difficult riddles), and the groom must answer with the help of his friends.</p>
                    <p>For example, he may be shown a few photos of baby girls and he must say which one his bride is. If he guesses wrong, he must pay cash to move ahead. After the marriage registration, the newly-married couple leaves the guests for a tour of the city sights. After two or three hours of the city tour the couple arrives at the reception. The couple sits at a specially arranged table with their family, friends and invited guests. The reception starts with toasts to the couple. A wedding toast is a custom where a close friend or relative of the groom or the bride says a few words to wish the couple, then everyone raises their glass of wine, and drink it up at the same moment. The groom is then asked to kiss the bride. After a few toasts, people start eating and drinking, and generally have fun. After some time, the bride gets 'stolen'! She disappears, and when the groom starts looking for her, he is asked to pay a fee. Usually it is his friends who 'steal' the bride. Then there are the bride's friends ‚Äî they steal the bride's shoe. The groom must pay money for the shoe too. The guests enjoy watching these tussles, and continue partying.</p>
                </div>
                
                <h3 class="activity-title">Pre-Reading Activity: Wedding Customs</h3>
                <div class="content-block">
                    <p>2. Do you think Indian and Russian weddings have any customs in common? With the help of a partner, fill in the table below.</p>
                    <p>Wedding Ceremonies in Russia and India</p>
                    <div class="table-container">
                        <table>
                            <tr>
                                <th>Customs similar to Indian ones</th>
                                <th>Customs different from Indian ones</th>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                            </tr>
                        </table>
                    </div>
                </div>
                
                <div class="reflection-exercise">
                    <textarea id="reflectionText" rows="5" placeholder="Write your reflection here..."></textarea>
                    <button class="interactive-btn" onclick="saveReflection()">
                        Save Reflection
                    </button>
                    <div id="reflectionFeedback" class="feedback-message" aria-live="polite"></div>
                </div>
            </div>
        </div>

        <!-- Story Module -->
        <div class="module" id="story">
            <div class="story-reader">
                <h2 class="section-title">THE PROPOSAL</h2>
                
                <div class="story-controls">
                    <button class="reading-mode-btn" onclick="toggleReadAloud()" aria-label="Read the text aloud">
                        üîä Read Aloud
                    </button>
                    <button class="reading-mode-btn" onclick="highlightVocabulary()" aria-label="Highlight vocabulary words">
                        ‚ú® Highlight Vocabulary
                    </button>
                    <button class="reading-mode-btn" onclick="togglePrintMode()" aria-label="Toggle print-friendly mode">
                        üñ®Ô∏è Print Mode
                    </button>
                </div>
                
                <div class="story-content" id="storyContent">
                    <!-- Story content will be loaded dynamically via JavaScript -->
                </div>
            </div>
        </div>

        <!-- Reading Comprehension Module -->
        <div class="module" id="thinking-text">
            <div class="exercise-card">
                <h2 class="exercise-title">
                    <span class="exercise-icon">‚ùì</span>
                    Reading Comprehension Questions
                </h2>
                
                <div id="textQuestions" class="question-section">
                    <!-- Questions will be loaded dynamically -->
                </div>
            </div>
        </div>

        <!-- Vocabulary & Grammar Module -->
        <div class="module" id="thinking-language">
            <div class="exercise-card">
                <h2 class="exercise-title">
                    <span class="exercise-icon">üîç</span>
                    Homophones
                </h2>
                <div class="content-block">
                    <p>Can you find the words below that are spelt similarly, and sometimes even pronounced similarly, but have very different meanings? Check their pronunciation and meaning in a dictionary.</p>
                    <blockquote>‚Ä¢ They were too <strong>close</strong> to the door to <strong>close</strong> it.<br>‚Ä¢ Since there is no time like the <strong>present</strong>, she thought it was time to <strong>present</strong> the <strong>present</strong>.</blockquote>
                </div>
                
                <div class="vocabulary-exercise">
                    <h3>Find the homophones in these sentences and explain their meanings:</h3>
                    <div class="vocab-question">
                        <p>1. The bread was not <select id="vocab1">
                            <option value="">Select</option>
                            <option value="fair">fair</option>
                            <option value="fare">fare</option>
                        </select> to charge full <select id="vocab2">
                            <option value="">Select</option>
                            <option value="fare">fare</option>
                            <option value="fair">fair</option>
                        </select> for half a loaf.</p>
                    </div>
                    <div class="vocab-question">
                        <p>2. The <select id="vocab3">
                            <option value="">Select</option>
                            <option value="principle">principle</option>
                            <option value="principal">principal</option>
                        </select> of the school enforced a strict <select id="vocab4">
                            <option value="">Select</option>
                            <option value="principal">principal</option>
                            <option value="principle">principle</option>
                        </select> of discipline.</p>
                    </div>
                    <button class="interactive-btn" onclick="checkVocabulary()">Check Answers</button>
                    <div id="vocabFeedback" class="feedback-message" aria-live="polite"></div>
                </div>
            </div>

            <div class="exercise-card">
                <h2 class="exercise-title">
                    <span class="exercise-icon">üìö</span>
                    Reported Speech
                </h2>
                <div class="content-block">
                    <p>A sentence in reported speech consists of two parts: a reporting clause, which contains the reporting verb, and the reported clause.</p>
                    <p>Look at the following sentences:</p>
                    <blockquote>(a) "I went to visit my grandma last week," said Mamta.<br>(b) Mamta said that she had gone to visit her grandma the previous week.</blockquote>
                    <p>In sentence (a), we have Mamta's exact words. This is an example of direct speech. In sentence (b), someone is reporting what Mamta said. This is called indirect speech or reported speech.</p>
                </div>
                
                <div class="matching-game">
                    <h3>Fill in the blanks to list the changes that have occurred in the reported speech:</h3>
                    
                    <div class="contraction-item">
                        <p>1. To report a question, we use the reporting verb <input type="text" class="contraction-input" data-answer="asked"></p>
                    </div>
                    <div class="contraction-item">
                        <p>2. To report a statement, we use the reporting verb <input type="text" class="contraction-input" data-answer="said"></p>
                    </div>
                    <div class="contraction-item">
                        <p>3. The adverb of place here changes to <input type="text" class="contraction-input" data-answer="there"></p>
                    </div>
                    <div class="contraction-item">
                        <p>4. When the verb in direct speech is in the present tense, the verb in reported speech is in the <input type="text" class="contraction-input" data-answer="past tense"></p>
                    </div>
                    <div class="contraction-item">
                        <p>5. If the verb in direct speech is in the present continuous tense, the verb in reported speech changes to <input type="text" class="contraction-input" data-answer="past continuous"></p>
                    </div>
                    
                    <button class="interactive-btn" onclick="checkConditionals()">Check Answers</button>
                    <div id="conditionalssFeedback" class="feedback-message" aria-live="polite"></div>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <p>&copy; 2025 Interactive English Lesson - The Proposal</p>
    </footer>

    <script src="js/main.js"></script>
    <script src="js/the-proposal-story.js"></script>
    <script src="js/questions.js"></script>
    <script src="js/activities.js"></script>
</body>
</html>
