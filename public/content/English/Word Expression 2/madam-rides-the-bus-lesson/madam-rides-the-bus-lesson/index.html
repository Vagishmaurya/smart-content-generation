<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Madam Rides the Bus - Interactive English Lesson</title>
    <link rel="stylesheet" href="css/styles.css">
    <meta name="description" content="Interactive English lesson based on 'Madam Rides the Bus'">
</head>
<body>
    <!-- Navigation -->
    <nav class="nav-menu" role="navigation" aria-label="Main navigation">
        <div class="nav-items">
            <button class="nav-item active" onclick="showModule('intro')" aria-pressed="true">📚 Introduction</button>
            <button class="nav-item" onclick="showModule('prereading')" aria-pressed="false">📝 Let's Begin</button>
            <button class="nav-item" onclick="showModule('story')" aria-pressed="false">📖 Reading Text</button>
            <button class="nav-item" onclick="showModule('thinking-text')" aria-pressed="false">❓ Reading Comprehension</button>
            <button class="nav-item" onclick="showModule('thinking-language')" aria-pressed="false">🔤 Vocabulary & Grammar</button>
            <button class="nav-item" onclick="showModule('activities')" aria-pressed="false">🎯 Activities</button>
        </div>
    </nav>

    <!-- Audio Control -->
    <div class="audio-control">
        <button id="audioBtn" class="audio-btn" onclick="toggleAudio()" aria-label="Toggle audio narration">🔊</button>
    </div>

    <!-- Achievement Popup -->
    <div id="achievementPopup" class="achievement-popup" aria-live="polite">
        <div class="achievement-title">🏆 Achievement Unlocked!</div>
        <div class="achievement-desc" id="achievementDesc">You've completed a module!</div>
    </div>

    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1 class="title">📚 Madam Rides the Bus</h1>
            <p class="subtitle">Unit 7</p>
            <p class="reprint">Reprint 2025-26</p>
        </header>

        <!-- Progress Tracker -->
        <div class="progress-container">
            <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
                <div class="progress-fill" id="progressBar">0%</div>
            </div>
            <div class="progress-stats">
                <span>📖 Modules: <span id="modulesComplete">0</span>/6</span>
                <span>⭐ Score: <span id="totalScore">0</span></span>
                <span>⏱️ Time: <span id="timeSpent">0:00</span></span>
            </div>
        </div>

        <!-- Introduction Module -->
        <div class="module active" id="intro">
            <div class="exercise-card">
                <h2 class="exercise-title">
                    <span class="exercise-icon">🌟</span>
                    Welcome to "Madam Rides the Bus"
                </h2>
                <div class="content-block">
                    <p>In the story 'Madam Rides the Bus', you'll learn about a young girl named Valli who is fascinated by the bus that passes by her street. After months of careful observation and saving money, she finally embarks on her first solo bus journey.</p>
                    <p>This lesson explores themes of curiosity, independence, and the experiences that shape our understanding of the world. Through Valli's adventures, we'll examine various aspects of English language, including reading comprehension, vocabulary, and communication skills.</p>
                </div>
                <div class="button-container">
                    <button class="interactive-btn" onclick="startJourney()" aria-label="Begin the lesson">
                        🚀 Start Your Learning Journey
                    </button>
                </div>
            </div>
        </div>

        <!-- Let's Begin Module -->
        <div class="module" id="prereading">
            <div class="exercise-card">
                <h2 class="exercise-title">
                    <span class="exercise-icon">📝</span>
                    Let's Begin
                </h2>
                <div class="content-block">
                    <p>In the story 'Madam Rides the Bus', Valli took a bus ride on the bus that she wanted to for last several months. She knew that she had to buy tickets for this. So she saved money suppressing all temptation to buy things like peppermints, toys, balloons, etc., and paid for the ticket.</p>
                    <p>What all exciting things did she see from the bus? Was the excitement the same on her return journey? Discuss with your classmate and write a paragraph based on your discussion on the above mentioned questions.</p>
                </div>
                
                <h3 class="activity-title">Activity: Reflect on a Journey</h3>
                <div class="content-block">
                    <p>Have you undertaken any journey by bicycle, boat, bus, train, or on an elephant back? Share your experience with your friends in the class.</p>
                </div>
                
                <div class="reflection-exercise">
                    <textarea id="reflectionText" rows="5" placeholder="Write your reflection here..."></textarea>
                    <button class="interactive-btn" onclick="saveReflection()">
                        Save Reflection
                    </button>
                    <div id="reflectionFeedback" class="feedback-message" aria-live="polite"></div>
                </div>
            </div>
        </div>

        <!-- Reading Text Module -->
        <div class="module" id="story">
            <div class="story-reader">
                <h2 class="section-title">READING COMPREHENSION</h2>
                
                <div class="story-controls">
                    <button class="reading-mode-btn" onclick="toggleReadAloud()" aria-label="Read the text aloud">
                        🔊 Read Aloud
                    </button>
                    <button class="reading-mode-btn" onclick="highlightVocabulary()" aria-label="Highlight vocabulary words">
                        ✨ Highlight Vocabulary
                    </button>
                    <button class="reading-mode-btn" onclick="togglePrintMode()" aria-label="Toggle print-friendly mode">
                        🖨️ Print Mode
                    </button>
                </div>
                
                <div class="story-navigation">
                    <button class="story-nav-btn active" onclick="showStoryPart(1)" aria-pressed="true">Text I</button>
                    <button class="story-nav-btn" onclick="showStoryPart(2)" aria-pressed="false">Text II</button>
                </div>
                
                <div class="story-content" id="storyContent">
                    <!-- Story content will be loaded dynamically via JavaScript -->
                </div>
            </div>
        </div>

        <!-- Reading Comprehension Module -->
        <div class="module" id="thinking-text">
            <div class="exercise-card">
                <h2 class="exercise-title">
                    <span class="exercise-icon">❓</span>
                    Reading Comprehension Questions
                </h2>
                
                <div id="textQuestions" class="question-section">
                    <!-- Questions will be loaded dynamically -->
                </div>
            </div>
        </div>

        <!-- Vocabulary & Grammar Module -->
        <div class="module" id="thinking-language">
            <div class="exercise-card">
                <h2 class="exercise-title">
                    <span class="exercise-icon">📚</span>
                    Vocabulary
                </h2>
                <div class="content-block">
                    <p>Find out the words from the text 'Madam rides the Bus' that match with the given meanings.</p>
                </div>
                
                <div class="vocabulary-exercise">
                    <div class="vocab-question">
                        <p>inquisitive = <select id="vocab1">
                            <option value="">Select</option>
                            <option value="curious">curious</option>
                            <option value="unconcerned">unconcerned</option>
                            <option value="ignorant">ignorant</option>
                            <option value="uninterested">uninterested</option>
                        </select></p>
                    </div>
                    <div class="vocab-question">
                        <p>intricate = <select id="vocab2">
                            <option value="">Select</option>
                            <option value="simple">simple</option>
                            <option value="complicated">complicated</option>
                            <option value="elegant">elegant</option>
                            <option value="ordinary">ordinary</option>
                        </select></p>
                    </div>
                    <div class="vocab-question">
                        <p>mesmerizing = <select id="vocab3">
                            <option value="">Select</option>
                            <option value="boring">boring</option>
                            <option value="confusing">confusing</option>
                            <option value="fascinating">fascinating</option>
                            <option value="ordinary">ordinary</option>
                        </select></p>
                    </div>
                    <div class="vocab-question">
                        <p>immense = <select id="vocab4">
                            <option value="">Select</option>
                            <option value="tiny">tiny</option>
                            <option value="enormous">enormous</option>
                            <option value="average">average</option>
                            <option value="shrinking">shrinking</option>
                        </select></p>
                    </div>
                    <div class="vocab-question">
                        <p>hardly = <select id="vocab5">
                            <option value="">Select</option>
                            <option value="mostly">mostly</option>
                            <option value="significantly">significantly</option>
                            <option value="definitely">definitely</option>
                            <option value="barely">barely</option>
                        </select></p>
                    </div>
                    <button class="interactive-btn" onclick="checkVocabulary()">Check Answers</button>
                    <div id="vocabFeedback" class="feedback-message" aria-live="polite"></div>
                </div>
            </div>

            <div class="exercise-card">
                <h2 class="exercise-title">
                    <span class="exercise-icon">🔍</span>
                    Grammar: Phrasal Verbs
                </h2>
                <div class="content-block">
                    <p>Read the two sentences given below. The groups of words in italics are phrasal verbs.</p>
                    <blockquote>This way she picked up various small details.<br>
                    Valli said, "I am the one to get on."</blockquote>
                    <p>The verbs picked and get are combined with up and on respectively. Together they make phrasal verbs.</p>
                    <p>Now, complete each sentence using a verb from box A and a word from box B (by making a phrasal verb). Use the correct form of the verb wherever necessary.</p>
                    <div class="phrasal-verbs">
                        <span class="phrasal-verb">Box A: break, drive, get, fill, wake, turn</span>
                        <span class="phrasal-verb">Box B: out, down, off, on, in, up</span>
                    </div>
                </div>
                
                <div class="phrasal-verb-exercise">
                    <p>It was evening. She <input type="text" class="phrasal-input" data-answer="turned on"> the light. Do not <input type="text" class="phrasal-input" data-answer="wake up"> Ramesh. He was studying late at night yesterday. The school bus <input type="text" class="phrasal-input" data-answer="broke down"> and had to be towed to the garage for repair. You have to <input type="text" class="phrasal-input" data-answer="fill in"> the form yourself.</p>
                    <button class="interactive-btn" onclick="checkPhrasalVerbs()">Check Answers</button>
                    <div id="phrasalFeedback" class="feedback-message" aria-live="polite"></div>
                </div>
            </div>

            <div class="exercise-card">
                <h2 class="exercise-title">
                    <span class="exercise-icon">✂️</span>
                    Editing Exercise
                </h2>
                <div class="content-block">
                    <p>Use capital letters and full stops wherever necessary and correct the spelling errors as well, in the following paragraph.</p>
                </div>
                
                <div class="editing-exercise">
                    <div class="editing-text">
                        <p>An exciting boat journey gliding <span class="error-word" data-correct="across">crosswise</span> the river from Godkhali jetty will take <span class="error-word" data-correct="you">to</span> a place of incredible mystic beauty of <span class="error-word" data-correct="nature">Nature</span>.</p>
                        <p>The <span class="error-word" data-correct="Sundarbans">sundarbans</span> a <span class="error-word" data-correct="UNESCO">unesco</span> World Heritage Site is located at the <span class="error-word" data-correct="south-eastern">South eastern</span> tip of the 24 <span class="error-word" data-correct="Parganas">Paraganas</span> district about 110 km from <span class="error-word" data-correct="Kolkata. It">Kolkata it</span> got its name from one of the <span class="error-word" data-correct="mangrove">mangrov</span> plants known as Sundari (Heritiera Minor) <span class="error-word" data-correct="Sundarbans">Sundrbans</span> are a part of the world's largest delta, formed by the mighty rivers <span class="error-word" data-correct="Ganga">ganga</span>, <span class="error-word" data-correct="Brahmaputra">brahmaputra</span> and <span class="error-word" data-correct="Meghna. It">meghna  it</span> is one of the most attractive and alluring places remaining on earth, a truly undiscovered paradise the <span class="error-word" data-correct="Sundarbans">Sundarbans</span> is the largest <span class="error-word" data-correct="single">singl</span> block of tidal, halophytic mangrove forests in the world.</p>
                    </div>
                    
                    <div class="editing-answers-grid">
                        <div class="editing-row">
                            <div class="editing-number">1.</div>
                            <div class="editing-word">crosswise</div>
                            <div class="editing-input-container">
                                <input type="text" class="editing-input" data-answer="across">
                            </div>
                        </div>
                        <div class="editing-row">
                            <div class="editing-number">2.</div>
                            <div class="editing-word">to</div>
                            <div class="editing-input-container">
                                <input type="text" class="editing-input" data-answer="you">
                            </div>
                        </div>
                        <div class="editing-row">
                            <div class="editing-number">3.</div>
                            <div class="editing-word">Nature</div>
                            <div class="editing-input-container">
                                <input type="text" class="editing-input" data-answer="nature">
                            </div>
                        </div>
                        <div class="editing-row">
                            <div class="editing-number">4.</div>
                            <div class="editing-word">sundarbans</div>
                            <div class="editing-input-container">
                                <input type="text" class="editing-input" data-answer="Sundarbans">
                            </div>
                        </div>
                        <div class="editing-row">
                            <div class="editing-number">5.</div>
                            <div class="editing-word">unesco</div>
                            <div class="editing-input-container">
                                <input type="text" class="editing-input" data-answer="UNESCO">
                            </div>
                        </div>
                    </div>
                    
                    <div class="button-container">
                        <button class="interactive-btn" onclick="checkEditing()">Check Answers</button>
                    </div>
                    <div id="editingFeedback" class="feedback-message" aria-live="polite"></div>
                </div>
            </div>
        </div>

        <!-- Activities Module -->
        <div class="module" id="activities">
            <div class="exercise-card">
                <h2 class="exercise-title">
                    <span class="exercise-icon">🎯</span>
                    Activities
                </h2>
                
                <div class="activity-section listening-activity">
                    <div class="activity-header">
                        <h3>🎧 Listening Activity</h3>
                        <button class="interactive-btn" onclick="playListeningActivity()">
                            🔊 Play Audio
                        </button>
                    </div>
                    <div class="content-block">
                        <!-- Content will be loaded dynamically -->
                    </div>
                    <div class="listening-notes">
                        <h4>Notes:</h4>
                        <textarea id="listeningNotes" rows="5" placeholder="Take notes here..."></textarea>
                        <h4>Narrative Account:</h4>
                        <textarea id="narrativeAccount" rows="8" placeholder="Write your narrative account here..."></textarea>
                        <button class="interactive-btn" onclick="saveListeningNotes()">Save Notes</button>
                    </div>
                </div>
                
                <div class="activity-section speaking-activity">
                    <h3>📢 Speaking Activity</h3>
                    <div class="content-block">
                        <!-- Content will be loaded dynamically -->
                    </div>
                    <button class="interactive-btn" onclick="recordSpeaking()">
                        🎤 Record Your Response
                    </button>
                </div>
                
                <div class="activity-section writing-activity">
                    <h3>✍️ Writing Activity</h3>
                    <div class="content-block">
                        <!-- Content will be loaded dynamically -->
                    </div>
                    <button class="interactive-btn" onclick="openWritingPad()">
                        ✏️ Start Writing
                    </button>
                    <div class="writing-pad">
                        <textarea id="writingPad" rows="10" placeholder="Write your response here..."></textarea>
                        <button class="interactive-btn" onclick="saveWriting()">Save Writing</button>
                    </div>
                </div>

                <div class="activity-section project-activity">
                    <h3>🔍 Project Work</h3>
                    <div class="content-block">
                        <!-- Content will be loaded dynamically -->
                    </div>
                    <div class="project-resources">
                        <h4>Helpful Resources:</h4>
                        <ul>
                            <li><a href="#" onclick="showResource('train-travel')">Guide to Train Travel</a></li>
                            <li><a href="#" onclick="showResource('bus-travel')">Guide to Bus Travel</a></li>
                            <li><a href="#" onclick="showResource('project-template')">Project Template</a></li>
                        </ul>
                    </div>
                </div>

                <div class="fun-facts">
                    <h3>📚 Fun Facts</h3>
                    <div class="content-block">
                        <p>Tongue twister: "We surely shall see the sun shine soon"</p>
                        <p>Idiom: "Turn a blind eye" — to ignore situations, facts, reality</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <p>&copy; 2025 Interactive English Lesson - Madam Rides the Bus</p>
    </footer>

    <script src="js/main.js"></script>
    <script src="js/story.js"></script>
    <script src="js/questions.js"></script>
    <script src="js/activities.js"></script>
</body>
</html>
