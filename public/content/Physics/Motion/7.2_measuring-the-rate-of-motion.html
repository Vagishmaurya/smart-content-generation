<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Measuring the Rate of Motion - Physics in Motion</title>
    <!-- GSAP for animations -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%);
            color: white;
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* Audio Control */
        #audio-control {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
        }

        .control-btn {
            background: rgba(168, 85, 247, 0.9);
            border: none;
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .control-btn:hover {
            transform: scale(1.1);
            background: rgba(168, 85, 247, 1);
        }

        .control-btn.muted .unmute-icon { display: none; }
        .control-btn:not(.muted) .mute-icon { display: none; }

        /* Main Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px 20px;
        }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: 40px;
        }

        .header h1 {
            font-size: 3rem;
            background: linear-gradient(45deg, #a855f7, #c084fc, #e879f9);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.95;
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.6;
        }

        /* Demo Stage */
        .demo-stage {
            background: linear-gradient(to bottom, #1e293b, #334155, #475569);
            border-radius: 25px;
            min-height: 500px;
            position: relative;
            margin: 40px 0;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
            overflow: hidden;
            border: 3px solid rgba(168, 85, 247, 0.4);
            padding: 40px;
        }

        /* Speed Introduction Demo */
        .speed-intro-demo {
            display: none;
            position: relative;
            width: 100%;
            height: 500px;
        }

        .speed-intro-demo.active {
            display: block;
        }

        .scenario-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            height: 100%;
        }

        .scenario {
            background: rgba(15, 23, 42, 0.9);
            border-radius: 20px;
            padding: 25px;
            border: 2px solid rgba(168, 85, 247, 0.3);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        .scenario-icon {
            font-size: 4rem;
            margin-bottom: 20px;
        }

        .scenario-title {
            color: #a855f7;
            font-size: 1.5rem;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .speed-display {
            background: rgba(168, 85, 247, 0.2);
            padding: 15px 25px;
            border-radius: 15px;
            font-size: 1.8rem;
            font-weight: bold;
            color: #c084fc;
            margin: 15px 0;
            border: 2px solid rgba(168, 85, 247, 0.4);
        }

        .scenario-description {
            line-height: 1.6;
            color: #e2e8f0;
            font-size: 1.1rem;
        }

        /* Speed Calculation Demo */
        .speed-calc-demo {
            display: none;
            position: relative;
            width: 100%;
            height: 500px;
        }

        .speed-calc-demo.active {
            display: block;
        }

        .calculation-container {
            display: flex;
            justify-content: space-around;
            align-items: center;
            height: 100%;
        }

        .formula-section {
            background: rgba(15, 23, 42, 0.9);
            padding: 30px;
            border-radius: 20px;
            border: 2px solid rgba(251, 191, 36, 0.4);
            text-align: center;
            min-width: 300px;
        }

        .formula-title {
            color: #fbbf24;
            font-size: 1.5rem;
            margin-bottom: 20px;
            font-weight: 600;
        }

        .formula {
            font-family: 'Courier New', monospace;
            font-size: 2.5rem;
            color: #fbbf24;
            margin: 20px 0;
            padding: 20px;
            background: rgba(251, 191, 36, 0.1);
            border-radius: 15px;
            border: 1px solid rgba(251, 191, 36, 0.3);
        }

        .formula-explanation {
            color: #e2e8f0;
            line-height: 1.6;
            margin-top: 15px;
        }

        .interactive-calculator {
            background: rgba(15, 23, 42, 0.9);
            padding: 30px;
            border-radius: 20px;
            border: 2px solid rgba(168, 85, 247, 0.4);
            min-width: 350px;
        }

        .calc-title {
            color: #a855f7;
            font-size: 1.5rem;
            margin-bottom: 20px;
            font-weight: 600;
            text-align: center;
        }

        .input-group {
            margin: 15px 0;
        }

        .input-label {
            display: block;
            color: #c084fc;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .input-field {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid rgba(168, 85, 247, 0.4);
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 1.1rem;
            text-align: center;
        }

        .calc-btn {
            width: 100%;
            padding: 12px;
            background: linear-gradient(135deg, #a855f7, #9333ea);
            border: none;
            border-radius: 10px;
            color: white;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 15px 0;
        }

        .calc-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(168, 85, 247, 0.4);
        }

        .result-display {
            background: rgba(16, 185, 129, 0.2);
            padding: 15px;
            border-radius: 10px;
            border: 2px solid rgba(16, 185, 129, 0.4);
            text-align: center;
            font-size: 1.2rem;
            font-weight: bold;
            color: #10b981;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Speed vs Velocity Demo */
        .velocity-demo {
            display: none;
            position: relative;
            width: 100%;
            height: 500px;
        }

        .velocity-demo.active {
            display: block;
        }

        .comparison-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            height: 100%;
        }

        .concept-card {
            background: rgba(15, 23, 42, 0.9);
            border-radius: 20px;
            padding: 25px;
            border: 2px solid rgba(168, 85, 247, 0.3);
            text-align: center;
        }

        .concept-title {
            color: #a855f7;
            font-size: 1.8rem;
            margin-bottom: 20px;
            font-weight: 600;
        }

        .concept-icon {
            font-size: 3rem;
            margin-bottom: 20px;
        }

        .concept-properties {
            list-style: none;
            padding: 0;
            text-align: left;
        }

        .concept-properties li {
            padding: 10px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            color: #e2e8f0;
            line-height: 1.6;
        }

        .concept-properties li:last-child {
            border-bottom: none;
        }

        .highlight {
            color: #fbbf24;
            font-weight: bold;
        }

        /* Examples Demo */
        .examples-demo {
            display: none;
            padding: 20px;
        }

        .examples-demo.active {
            display: block;
        }

        .examples-container {
            position: relative;
            margin: 15px 0;
            overflow: hidden;
            height: 700px;
            display: flex;
            flex-direction: column;
            width: 100%;
            max-width: 100%;
            box-sizing: border-box;
        }

        .examples-slider {
            display: flex;
            transition: transform 0.5s ease;
            flex: 1;
            width: 300%;
            height: 100%;
        }

        .example-card {
            flex: 0 0 33.333%;
            background: rgba(15, 23, 42, 0.9);
            padding: 20px;
            border-radius: 15px;
            border: 2px solid rgba(168, 85, 247, 0.3);
            height: 100%;
            overflow-y: auto;
            overflow-x: hidden;
            box-sizing: border-box;
            margin: 0;
            position: relative;
            width: 33.333%;
            max-width: 33.333%;
            display: flex;
            flex-direction: column;
        }

        .examples-controls {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            padding: 20px 0;
            flex-shrink: 0;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 15px;
            margin-top: 20px;
            border: 2px solid rgba(168, 85, 247, 0.3);
        }

        .examples-nav-btn {
            background: linear-gradient(135deg, #a855f7, #9333ea);
            border: none;
            color: white;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s ease;
            min-width: 120px;
            box-shadow: 0 4px 10px rgba(168, 85, 247, 0.4);
            z-index: 10;
        }

        .examples-nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(168, 85, 247, 0.4);
        }

        .examples-nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .example-indicators {
            display: flex;
            gap: 8px;
            margin: 0 15px;
        }

        .example-indicator {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background: rgba(168, 85, 247, 0.3);
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid rgba(168, 85, 247, 0.5);
        }

        .example-indicator.active {
            background: #a855f7;
            transform: scale(1.3);
            box-shadow: 0 0 10px rgba(168, 85, 247, 0.7);
        }
        
        .examples-title {
            text-align: center;
            font-size: 1.5rem;
            color: #a855f7;
            margin-bottom: 20px;
            font-weight: 600;
        }
        
        .example-explanation {
            background: rgba(16, 185, 129, 0.1);
            padding: 15px;
            border-radius: 10px;
            border: 1px solid rgba(16, 185, 129, 0.3);
            margin-top: 20px;
            line-height: 1.6;
            color: #e2e8f0;
            opacity: 0;
            transform: translateY(10px);
            transition: all 0.5s ease;
        }
        
        /* Enhanced Example Styling */
        .example-visual {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 12px;
            padding: 12px;
            margin: 12px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 120px;
            position: relative;
            overflow: hidden;
            width: 100%;
            box-sizing: border-box;
            flex-shrink: 0;
        }
        
        .formula-highlight {
            font-family: 'Courier New', monospace;
            color: #fbbf24;
            font-size: 1.1rem;
            background: rgba(251, 191, 36, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            text-align: center;
            border: 1px solid rgba(251, 191, 36, 0.3);
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
            width: 100%;
            box-sizing: border-box;
        }
        
        .example-title {
            color: #a855f7;
            font-size: 1.3rem;
            margin-bottom: 12px;
            font-weight: 600;
            flex-shrink: 0;
        }
        
        .example-problem {
            background: rgba(59, 130, 246, 0.1);
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 12px;
            border-left: 3px solid #3b82f6;
            flex-shrink: 0;
        }
        
        .step-calculation {
            font-family: 'Courier New', monospace;
            color: #10b981;
            font-size: 1.1rem;
            margin: 8px 0;
        }
        
        .step-explanation {
            font-style: italic;
            opacity: 0.9;
            font-size: 0.95rem;
            margin-top: 5px;
            color: #e2e8f0;
        }
        
        .final-answer {
            background: rgba(16, 185, 129, 0.15);
            padding: 12px;
            border-radius: 8px;
            margin: 10px 0;
            text-align: center;
            border: 1px solid rgba(16, 185, 129, 0.3);
            opacity: 0;
            transform: scale(0.95);
            transition: all 0.5s ease;
            width: 100%;
            box-sizing: border-box;
            flex-shrink: 0;
        }
        
        .example-explanation {
            background: rgba(16, 185, 129, 0.1);
            padding: 15px;
            border-radius: 10px;
            border: 1px solid rgba(16, 185, 129, 0.3);
            margin-top: 15px;
            line-height: 1.6;
            color: #e2e8f0;
            opacity: 0;
            transform: translateY(10px);
            transition: all 0.5s ease;
            width: 100%;
            box-sizing: border-box;
            flex-shrink: 0;
        }
        
        .example-approach {
            background: rgba(251, 191, 36, 0.1);
            padding: 12px;
            border-radius: 8px;
            margin: 12px 0;
            border-left: 4px solid #fbbf24;
            width: 100%;
            box-sizing: border-box;
            flex-shrink: 0;
        }
        
        .approach-title {
            color: #fbbf24;
            font-weight: bold;
            margin-bottom: 10px;
            font-size: 1rem;
        }
        
        .approach-list {
            margin-left: 20px;
            color: #e2e8f0;
            line-height: 1.6;
            padding-left: 5px;
        }
        
        .solution-steps {
            display: flex;
            flex-direction: column;
            gap: 10px;
            width: 100%;
            box-sizing: border-box;
            flex: 1;
            overflow-y: auto;
            padding-right: 5px;
        }
        
        .solution-step {
            position: relative;
            opacity: 0;
            transform: translateY(10px);
            margin: 0;
            padding: 12px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            border-left: 4px solid #10b981;
            transition: all 0.3s ease;
            width: 100%;
            box-sizing: border-box;
        }
        
        .solution-step.show {
            opacity: 1;
            transform: translateY(0);
        }

        .example-title {
            color: #a855f7;
            font-size: 1.3rem;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .example-problem {
            background: rgba(168, 85, 247, 0.1);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            border-left: 4px solid #a855f7;
        }

        .solution-steps {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .solution-step {
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 10px;
            opacity: 0;
            transform: translateY(-10px);
            transition: all 0.5s ease;
        }

        .solution-step.show {
            opacity: 1;
            transform: translateY(0);
        }

        .step-label {
            color: #fbbf24;
            font-weight: bold;
            margin-bottom: 8px;
            font-size: 1.1rem;
            border-bottom: 1px solid rgba(251, 191, 36, 0.3);
            padding-bottom: 5px;
        }

        .step-calculation {
            font-family: 'Courier New', monospace;
            color: #10b981;
            font-size: 1.1rem;
            margin: 8px 0;
        }

        .final-answer {
            background: linear-gradient(135deg, rgba(168, 85, 247, 0.3), rgba(251, 191, 36, 0.3));
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
            text-align: center;
            font-weight: bold;
            color: #fbbf24;
            border: 2px solid rgba(251, 191, 36, 0.4);
        }

        /* Activities Demo */
        .activities-demo {
            display: none;
            padding: 30px;
        }

        .activities-demo.active {
            display: block;
        }

        .activities-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }

        .activity-card {
            background: rgba(168, 85, 247, 0.1);
            padding: 25px;
            border-radius: 15px;
            border: 2px solid rgba(168, 85, 247, 0.3);
            transition: all 0.3s ease;
        }

        .activity-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(168, 85, 247, 0.3);
        }

        .activity-title {
            color: #a855f7;
            font-size: 1.3rem;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .activity-steps {
            list-style: none;
            padding: 0;
        }

        .activity-steps li {
            padding: 8px 0;
            padding-left: 20px;
            position: relative;
            line-height: 1.6;
            color: #e2e8f0;
        }

        .activity-steps li:before {
            content: '•';
            position: absolute;
            left: 0;
            color: #a855f7;
            font-size: 1.2rem;
        }

        .activity-calculation {
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
            font-family: 'Courier New', monospace;
            color: #10b981;
        }

        /* Questions Demo */
        .questions-demo {
            display: none;
            padding: 20px;
        }

        .questions-demo.active {
            display: block;
        }

        .questions-container {
            position: relative;
            margin: 15px 0;
            overflow: hidden;
            height: 500px;
            display: flex;
            flex-direction: column;
            width: 100%;
            max-width: 100%;
        }

        .questions-slider {
            display: flex;
            transition: transform 0.5s ease;
            flex: 1;
            width: 500%;
        }

        .question-card {
            flex: 0 0 20%;
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
            border-radius: 15px;
            border-left: 4px solid #a855f7;
            height: 100%;
            overflow-y: auto;
            overflow-x: hidden;
            box-sizing: border-box;
            margin: 0;
            display: flex;
            flex-direction: column;
            position: relative;
            width: 20%;
            max-width: 20%;
        }

        .questions-controls {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            padding: 15px 0;
            flex-shrink: 0;
        }

        .questions-nav-btn {
            background: linear-gradient(135deg, #a855f7, #9333ea);
            border: none;
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 600;
            transition: all 0.3s ease;
            min-width: 80px;
        }

        .questions-nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(168, 85, 247, 0.4);
        }

        .questions-nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .question-indicators {
            display: flex;
            gap: 8px;
            margin: 0 15px;
        }

        .question-indicator {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(168, 85, 247, 0.3);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .question-indicator.active {
            background: #a855f7;
            transform: scale(1.2);
        }

        .question-number {
            color: #a855f7;
            font-weight: bold;
            font-size: 1.2rem;
            margin-bottom: 10px;
            flex-shrink: 0;
        }

        .question-text {
            font-size: 1.1rem;
            line-height: 1.6;
            margin-bottom: 15px;
            color: #e2e8f0;
            flex-grow: 1;
        }

        .show-answer-btn {
            background: linear-gradient(135deg, #a855f7, #9333ea);
            border: none;
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            align-self: flex-start;
            flex-shrink: 0;
            margin-bottom: 10px;
        }

        .show-answer-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(168, 85, 247, 0.4);
        }

        .answer-section {
            background: rgba(168, 85, 247, 0.1);
            padding: 15px;
            border-radius: 10px;
            border: 1px solid rgba(168, 85, 247, 0.3);
            opacity: 0;
            transform: translateY(-10px);
            transition: all 0.5s ease;
            margin-top: 15px;
            max-height: 200px;
           
            overflow-y: auto;
            box-sizing: border-box;
            width: calc(100% - 2px);
            margin-left: 0;
            margin-right: 0;
        }

        .answer-section.show {
            opacity: 1;
            transform: translateY(0);
        }

        /* Unit Conversion Demo */
        .conversion-demo {
            display: none;
            position: relative;
            width: 100%;
            height: 500px;
        }

        .conversion-demo.active {
            display: block;
        }

        .conversion-container {
            display: flex;
            justify-content: space-around;
            align-items: center;
            height: 100%;
        }

        .conversion-card {
            background: rgba(15, 23, 42, 0.9);
            padding: 30px;
            border-radius: 20px;
            border: 2px solid rgba(168, 85, 247, 0.4);
            text-align: center;
            min-width: 300px;
        }

        .conversion-title {
            color: #a855f7;
            font-size: 1.5rem;
            margin-bottom: 20px;
            font-weight: 600;
        }

        .conversion-steps {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin: 20px 0;
        }

        .conversion-step {
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            color: #10b981;
            font-size: 1.1rem;
        }

        .conversion-arrow {
            color: #fbbf24;
            font-size: 2rem;
            margin: 10px 0;
        }

        /* Controls */
        .controls {
            text-align: center;
            margin: 40px 0;
        }

        .controls-title {
            font-size: 1.8rem;
            margin-bottom: 25px;
            color: #a855f7;
            font-weight: 600;
        }

        .demo-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            margin: 25px 0;
        }

        .demo-btn {
            background: linear-gradient(135deg, #a855f7, #9333ea);
            border: none;
            color: white;
            padding: 14px 24px;
            border-radius: 30px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 20px rgba(168, 85, 247, 0.3);
            min-width: 150px;
        }

        .demo-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 25px rgba(168, 85, 247, 0.4);
        }

        .demo-btn.active {
            background: linear-gradient(135deg, #10b981, #059669);
            box-shadow: 0 8px 20px rgba(16, 185, 129, 0.4);
        }

        /* Theory Section */
        .theory-section {
            background: rgba(15, 23, 42, 0.9);
            border-radius: 25px;
            padding: 35px;
            margin: 35px 0;
            border: 3px solid rgba(168, 85, 247, 0.4);
            backdrop-filter: blur(15px);
        }

        .concept-box {
            background: linear-gradient(135deg, rgba(168, 85, 247, 0.2), rgba(192, 132, 252, 0.2));
            padding: 25px;
            border-radius: 20px;
            margin: 20px 0;
            border: 1px solid rgba(168, 85, 247, 0.3);
        }

        .concept-box-title {
            font-size: 1.5rem;
            color: #a855f7;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .concept-text {
            font-size: 1.1rem;
            line-height: 1.8;
            color: #e2e8f0;
        }

        .formula-highlight {
            background: rgba(251, 191, 36, 0.1);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            margin: 20px 0;
            border: 2px solid rgba(251, 191, 36, 0.3);
        }

        .main-formula {
            font-size: 2rem;
            color: #fbbf24;
            font-family: 'Courier New', monospace;
            margin: 15px 0;
            text-shadow: 0 0 20px rgba(251, 191, 36, 0.5);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .header h1 { font-size: 2.2rem; }
            .demo-stage { padding: 30px 20px; min-height: 400px; }
            .demo-buttons { flex-direction: column; align-items: center; }
            .scenario-container { grid-template-columns: 1fr; }
            .comparison-container { grid-template-columns: 1fr; }
            .calculation-container { flex-direction: column; gap: 20px; }
            .conversion-container { flex-direction: column; gap: 20px; }
            .activities-grid { grid-template-columns: 1fr; }
        }

        @media (max-width: 480px) {
            .container { padding: 20px 15px; }
            .header h1 { font-size: 1.8rem; }
            .demo-stage { padding: 20px 15px; }
            .theory-section { padding: 20px; }
            .main-formula { font-size: 1.5rem; }
        }
    </style>
</head>
<body>
    <!-- Audio Control -->
    <div id="audio-control">
        <button id="mute-btn" class="control-btn">
            <span class="unmute-icon">🔊</span>
            <span class="mute-icon">🔇</span>
        </button>
    </div>

    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>Measuring the Rate of Motion</h1>
            <p>Discover how we measure speed and velocity, understand the difference between them, and learn to calculate average speed in various scenarios!</p>
        </div>

        <!-- Demo Stage -->
        <div class="demo-stage" id="stage">
            <!-- Speed Introduction Demo -->
            <div class="speed-intro-demo" id="speed-intro-demo">
                <div class="scenario-container">
                    <div class="scenario">
                        <div class="scenario-icon">🏏</div>
                        <div class="scenario-title">Cricket Bowling Speed</div>
                        <div class="speed-display">143 km/h</div>
                        <div class="scenario-description">
                            This means the cricket ball travels at a rate of 143 kilometers per hour. 
                            It tells us how fast the ball is moving through the air.
                        </div>
                    </div>

                    <div class="scenario">
                        <div class="scenario-icon">🚗</div>
                        <div class="scenario-title">Speed Limit Sign</div>
                        <div class="speed-display">60 km/h</div>
                        <div class="scenario-description">
                            This signboard indicates the maximum allowed speed for vehicles on this road. 
                            It's a safety measure to control the rate of motion.
                        </div>
                    </div>
                </div>
            </div>

            <!-- Speed Calculation Demo -->
            <div class="speed-calc-demo" id="speed-calc-demo">
                <div class="calculation-container">
                    <div class="formula-section">
                        <div class="formula-title">Speed Formula</div>
                        <div class="formula">v = s/t</div>
                        <div class="formula-explanation">
                            <strong>Where:</strong><br>
                            v = speed (m/s)<br>
                            s = distance (m)<br>
                            t = time (s)<br><br>
                            <strong>Average Speed = Total Distance ÷ Total Time</strong>
                        </div>
                    </div>

                    <div class="interactive-calculator">
                        <div class="calc-title">Speed Calculator</div>
                        <div class="input-group">
                            <label class="input-label">Distance (meters):</label>
                            <input type="number" class="input-field" id="distance-input" placeholder="Enter distance">
                        </div>
                        <div class="input-group">
                            <label class="input-label">Time (seconds):</label>
                            <input type="number" class="input-field" id="time-input" placeholder="Enter time">
                        </div>
                        <button class="calc-btn" onclick="calculateSpeed()">Calculate Speed</button>
                        <div class="result-display" id="speed-result">
                            Enter distance and time to calculate speed
                        </div>
                    </div>
                </div>
            </div>

            <!-- Speed vs Velocity Demo -->
            <div class="velocity-demo" id="velocity-demo">
                <div class="comparison-container">
                    <div class="concept-card">
                        <div class="concept-title">Speed</div>
                        <div class="concept-icon">🏃‍♂️</div>
                        <ul class="concept-properties">
                            <li><span class="highlight">Definition:</span> Rate of motion (how fast)</li>
                            <li><span class="highlight">Nature:</span> Scalar quantity</li>
                            <li><span class="highlight">Direction:</span> Not specified</li>
                            <li><span class="highlight">Unit:</span> m/s, km/h</li>
                            <li><span class="highlight">Value:</span> Always positive</li>
                            <li><span class="highlight">Example:</span> Car moving at 60 km/h</li>
                        </ul>
                    </div>

                    <div class="concept-card">
                        <div class="concept-title">Velocity</div>
                        <div class="concept-icon">🧭</div>
                        <ul class="concept-properties">
                            <li><span class="highlight">Definition:</span> Speed with direction</li>
                            <li><span class="highlight">Nature:</span> Vector quantity</li>
                            <li><span class="highlight">Direction:</span> Must be specified</li>
                            <li><span class="highlight">Unit:</span> m/s, km/h</li>
                            <li><span class="highlight">Value:</span> Can be positive or negative</li>
                            <li><span class="highlight">Example:</span> Car moving at 60 km/h north</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Examples Demo -->
            <div class="examples-demo" id="examples-demo">
                <div class="examples-title">NCERT Examples - Click Any Example to Start</div>
                <div style="text-align: center; color: #10b981; margin-bottom: 15px; font-size: 1rem;">
                    ← Click indicators below or use Previous/Next buttons - Each example will narrate from the beginning →
                </div>
                
                <div class="examples-container">
                    <div class="examples-slider" id="examples-slider">
                    <!-- Example 7.1 -->
                    <div class="example-card">
                            <div class="example-title">Example 7.1: Average Speed Calculation</div>
                        <div class="example-problem">
                            <strong>Problem:</strong> An object travels 16 m in 4 s and then another 16 m in 2 s. 
                            What is the average speed of the object?
                        </div>
                            
                            <div class="formula-highlight">
                                Average Speed = Total Distance ÷ Total Time
                            </div>
                            
                            <div class="example-approach">
                                <div class="approach-title">📋 Solution Approach:</div>
                                <ol class="approach-list">
                                    <li>Calculate total distance traveled</li>
                                    <li>Calculate total time taken</li>
                                    <li>Apply average speed formula</li>
                                    <li>Verify the result</li>
                                </ol>
                            </div>
                            
                            <div class="example-visual" id="ex1-visual">
                                <svg width="100%" height="100" viewBox="0 0 400 113" id="ex1-svg">
                                    <!-- Path representation -->
                                    <line x1="50" y1="50" x2="200" y2="50" stroke="#60a5fa" stroke-width="3" id="path1"/>
                                    <line x1="200" y1="50" x2="350" y2="50" stroke="#60a5fa" stroke-width="3" id="path2"/>
                                    
                                    <!-- Distance markers -->
                                    <text x="125" y="40" fill="#fbbf24" text-anchor="middle" id="dist1">16 m</text>
                                    <text x="275" y="40" fill="#fbbf24" text-anchor="middle" id="dist2">16 m</text>
                                    
                                    <!-- Time markers -->
                                    <text x="125" y="70" fill="#10b981" text-anchor="middle" id="time1">4 s</text>
                                    <text x="275" y="70" fill="#10b981" text-anchor="middle" id="time2">2 s</text>
                                    
                                    <!-- Object -->
                                    <circle cx="50" cy="50" r="8" fill="#a855f7" id="object1"/>
                                    
                                    <!-- Total indicators -->
                                    <text x="200" y="90" fill="#e2e8f0" text-anchor="middle" id="total-dist" opacity="0">Total Distance = 32 m</text>
                                    <text x="200" y="20" fill="#e2e8f0" text-anchor="middle" id="total-time" opacity="0">Total Time = 6 s</text>
                                    <text x="200" y="110" fill="#fbbf24" text-anchor="middle" id="avg-speed" opacity="0" font-weight="bold">Average Speed = 5.33 m/s</text>
                                </svg>
                            </div>
                            
                        <div class="solution-steps">
                            <div class="solution-step" id="ex1-step1">
                                    <div class="step-label">Step 1: Identify the given information</div>
                                    <div class="step-calculation">First segment: s₁ = 16 m, t₁ = 4 s</div>
                                    <div class="step-calculation">Second segment: s₂ = 16 m, t₂ = 2 s</div>
                                    <div class="step-explanation">
                                        We need to find the average speed for the entire journey. Average speed considers the total distance and total time.
                            </div>
                                </div>
                                
                            <div class="solution-step" id="ex1-step2">
                                    <div class="step-label">Step 2: Calculate the total distance</div>
                                    <div class="step-calculation">s_total = s₁ + s₂</div>
                                    <div class="step-calculation">s_total = 16 m + 16 m = 32 m</div>
                                    <div class="step-explanation">
                                        The total distance is the sum of all distances covered, regardless of direction.
                            </div>
                                </div>
                                
                            <div class="solution-step" id="ex1-step3">
                                    <div class="step-label">Step 3: Calculate the total time</div>
                                    <div class="step-calculation">t_total = t₁ + t₂</div>
                                    <div class="step-calculation">t_total = 4 s + 2 s = 6 s</div>
                                    <div class="step-explanation">
                                        The total time is the sum of all time intervals during the journey.
                            </div>
                                </div>
                                
                            <div class="solution-step" id="ex1-step4">
                                    <div class="step-label">Step 4: Apply the average speed formula</div>
                                    <div class="step-calculation">v_average = s_total ÷ t_total</div>
                                    <div class="step-calculation">v_average = 32 m ÷ 6 s = 5.33 m/s</div>
                                    <div class="step-explanation">
                                        The average speed is calculated by dividing the total distance by the total time taken.
                            </div>
                                </div>
                                
                            <div class="final-answer" id="ex1-answer">
                                    <div class="formula-highlight">Average speed = 5.33 m/s</div>
                            </div>
                        </div>
                            
                            <div class="example-explanation" id="ex1-explanation">
                                <strong>Key Insight:</strong> The object traveled at different speeds during the two segments:
                                <ul style="margin-top: 10px; margin-left: 20px;">
                                    <li>First segment speed: 16 m ÷ 4 s = 4 m/s</li>
                                    <li>Second segment speed: 16 m ÷ 2 s = 8 m/s</li>
                                </ul>
                                But the average speed (5.33 m/s) is not the simple average of these two speeds. It must be calculated using the total distance and total time. This demonstrates why we can't simply average the individual speeds to find average speed.
                        </div>
                    </div>

                    <!-- Example 7.2 -->
                    <div class="example-card">
                            <div class="example-title">Example 7.2: Speed Unit Conversion</div>
                        <div class="example-problem">
                            <strong>Problem:</strong> The odometer of a car reads 2000 km at the start and 2400 km at the end of a trip. 
                            If the trip took 8 h, calculate the average speed in km/h and m/s.
                        </div>
                            
                            <div class="formula-highlight">
                                Average Speed = Distance ÷ Time<br>
                                1 km/h = (1000 m) ÷ (3600 s) = 0.278 m/s
                            </div>
                            
                            <div class="example-approach">
                                <div class="approach-title">📋 Solution Approach:</div>
                                <ol class="approach-list">
                                    <li>Find distance from odometer readings</li>
                                    <li>Calculate speed in km/h</li>
                                    <li>Convert km/h to m/s</li>
                                    <li>Verify unit conversion</li>
                                </ol>
                            </div>
                            
                            <div class="example-visual" id="ex2-visual">
                                <svg width="100%" height="120" viewBox="0 0 400 120" id="ex2-svg">
                                    <!-- Road representation -->
                                    <rect x="50" y="60" width="300" height="20" fill="#334155" rx="2" id="road"/>
                                    <line x1="50" y1="70" x2="350" y2="70" stroke="#ffffff" stroke-width="2" stroke-dasharray="10,10" id="road-line"/>
                                    
                                    <!-- Odometer readings -->
                                    <rect x="50" y="20" width="80" height="30" rx="5" fill="rgba(59, 130, 246, 0.2)" stroke="#3b82f6" id="odo-start"/>
                                    <text x="90" y="40" fill="#e2e8f0" text-anchor="middle" font-family="monospace" id="odo-start-text">2000 km</text>
                                    
                                    <rect x="270" y="20" width="80" height="30" rx="5" fill="rgba(59, 130, 246, 0.2)" stroke="#3b82f6" id="odo-end"/>
                                    <text x="310" y="40" fill="#e2e8f0" text-anchor="middle" font-family="monospace" id="odo-end-text">2400 km</text>
                                    
                                    <!-- Car -->
                                    <text x="50" y="55" font-size="20" id="car">🚗</text>
                                    
                                    <!-- Distance and time -->
                                    <text x="200" y="100" fill="#fbbf24" text-anchor="middle" id="distance-text" opacity="0">Distance = 400 km</text>
                                    <text x="200" y="15" fill="#10b981" text-anchor="middle" id="time-text" opacity="0">Time = 8 h</text>
                                    
                                    <!-- Speed calculation -->
                                    <text x="200" y="120" fill="#e2e8f0" text-anchor="middle" font-weight="bold" id="speed-text" opacity="0">
                                        50 km/h = 13.9 m/s
                                    </text>
                                </svg>
                            </div>
                            
                        <div class="solution-steps">
                            <div class="solution-step" id="ex2-step1">
                                    <div class="step-label">Step 1: Identify the given information</div>
                                    <div class="step-calculation">Initial odometer reading = 2000 km</div>
                                    <div class="step-calculation">Final odometer reading = 2400 km</div>
                                    <div class="step-calculation">Time taken = 8 h</div>
                                    <div class="step-explanation">
                                        The odometer records the total distance traveled by the car. We need to find the average speed in both km/h and m/s.
                            </div>
                                </div>
                                
                            <div class="solution-step" id="ex2-step2">
                                    <div class="step-label">Step 2: Calculate the distance traveled</div>
                                    <div class="step-calculation">Distance = Final reading - Initial reading</div>
                                    <div class="step-calculation">Distance = 2400 km - 2000 km = 400 km</div>
                                    <div class="step-explanation">
                                        The distance traveled is the difference between the final and initial odometer readings.
                            </div>
                                </div>
                                
                            <div class="solution-step" id="ex2-step3">
                                    <div class="step-label">Step 3: Calculate the average speed in km/h</div>
                                    <div class="step-calculation">Average speed = Distance ÷ Time</div>
                                    <div class="step-calculation">Average speed = 400 km ÷ 8 h = 50 km/h</div>
                                    <div class="step-explanation">
                                        The average speed is the total distance divided by the total time taken.
                            </div>
                                </div>
                                
                            <div class="solution-step" id="ex2-step4">
                                    <div class="step-label">Step 4: Convert km/h to m/s</div>
                                    <div class="step-calculation">1 km/h = (1000 m) ÷ (3600 s) = 0.278 m/s</div>
                                    <div class="step-calculation">50 km/h = 50 × 0.278 = 13.9 m/s</div>
                                    <div class="step-explanation">
                                        To convert from km/h to m/s, we multiply by 1000 (to convert km to m) and divide by 3600 (to convert h to s).
                                        This is equivalent to multiplying by the conversion factor 0.278.
                            </div>
                                </div>
                                
                            <div class="final-answer" id="ex2-answer">
                                    <div class="formula-highlight">Average speed = 50 km/h = 13.9 m/s</div>
                            </div>
                        </div>
                            
                            <div class="example-explanation" id="ex2-explanation">
                                <strong>Key Insight:</strong> Unit conversion is essential in physics to express quantities in the appropriate units for different contexts.
                                <ul style="margin-top: 10px; margin-left: 20px;">
                                    <li>km/h is commonly used for vehicle speeds in everyday life</li>
                                    <li>m/s is the SI unit of speed used in scientific calculations</li>
                                    <li>The conversion factor (0.278) can be derived from dimensional analysis:
                                        <div style="margin-top: 5px; font-family: monospace; color: #10b981;">
                                            1 km/h = (1 km)/(1 h) = (1000 m)/(3600 s) = 0.278 m/s
                                        </div>
                                    </li>
                                </ul>
                                Always check your units when solving physics problems to ensure consistency and avoid errors.
                        </div>
                    </div>

                    <!-- Example 7.3 -->
                    <div class="example-card">
                            <div class="example-title">Example 7.3: Speed vs. Velocity</div>
                        <div class="example-problem">
                            <strong>Problem:</strong> Usha swims in a 90 m long pool. She covers 180 m in one minute by swimming 
                                from one end to the other and back. Find her average speed and average velocity.
                        </div>
                            
                            <div class="formula-highlight">
                                Average Speed = Total Distance ÷ Time<br>
                                Average Velocity = Displacement ÷ Time
                            </div>
                            
                            <div class="example-approach">
                                <div class="approach-title">📋 Solution Approach:</div>
                                <ol class="approach-list">
                                    <li>Calculate total distance traveled</li>
                                    <li>Find displacement (final - initial position)</li>
                                    <li>Calculate average speed using distance</li>
                                    <li>Calculate average velocity using displacement</li>
                                </ol>
                            </div>
                            
                            <div class="example-visual" id="ex3-visual">
                                <svg width="100%" height="120" viewBox="0 0 400 120" id="ex3-svg">
                                    <!-- Pool representation -->
                                    <rect x="50" y="40" width="300" height="40" fill="#60a5fa" opacity="0.3" stroke="#3b82f6" id="pool"/>
                                    
                                    <!-- Distance markers -->
                                    <line x1="50" y1="90" x2="350" y2="90" stroke="#fbbf24" stroke-width="2" id="distance-line"/>
                                    <text x="200" y="105" fill="#fbbf24" text-anchor="middle" id="distance-text">Total Distance = 180 m</text>
                                    
                                    <!-- Displacement -->
                                    <line x1="50" y1="30" x2="50" y2="30" stroke="#10b981" stroke-width="2" stroke-dasharray="5,5" id="displacement-line"/>
                                    <text x="50" y="25" fill="#10b981" text-anchor="middle" id="displacement-text">Displacement = 0 m</text>
                                    
                                    <!-- Swimmer path -->
                                    <path d="M 50,60 L 350,60" stroke="#ffffff" stroke-width="2" stroke-dasharray="5,3" id="path-there"/>
                                    <path d="M 350,60 L 50,60" stroke="#ffffff" stroke-width="2" stroke-dasharray="5,3" id="path-back"/>
                                    
                                    <!-- Swimmer -->
                                    <text x="50" y="65" font-size="20" id="swimmer">🏊‍♀️</text>
                                    
                                    <!-- Start/End points -->
                                    <circle cx="50" cy="60" r="5" fill="#f59e0b" id="start-point"/>
                                    <text x="50" y="80" fill="#f59e0b" text-anchor="middle" font-size="12" id="start-text">Start/End</text>
                                    
                                    <!-- Results -->
                                    <text x="200" y="115" fill="#e2e8f0" text-anchor="middle" font-weight="bold" id="results-text" opacity="0">
                                        Speed = 3 m/s, Velocity = 0 m/s
                                    </text>
                                </svg>
                            </div>
                            
                        <div class="solution-steps">
                            <div class="solution-step" id="ex3-step1">
                                    <div class="step-label">Step 1: Identify the given information</div>
                                    <div class="step-calculation">Pool length = 90 m</div>
                                    <div class="step-calculation">Total distance covered = 90 m + 90 m = 180 m</div>
                                    <div class="step-calculation">Time taken = 1 min = 60 s</div>
                                    <div class="step-explanation">
                                        Usha swims from one end to the other and back, covering the pool length twice.
                            </div>
                                </div>
                                
                            <div class="solution-step" id="ex3-step2">
                                    <div class="step-label">Step 2: Calculate the displacement</div>
                                    <div class="step-calculation">Initial position = Starting point of the pool</div>
                                    <div class="step-calculation">Final position = Starting point of the pool (after returning)</div>
                                    <div class="step-calculation">Displacement = Final position - Initial position = 0 m</div>
                                    <div class="step-explanation">
                                        Displacement is a vector quantity that measures the straight-line distance and direction from the initial to the final position. Since Usha returns to her starting point, her displacement is zero.
                            </div>
                                </div>
                                
                            <div class="solution-step" id="ex3-step3">
                                    <div class="step-label">Step 3: Calculate the average speed</div>
                                    <div class="step-calculation">Average speed = Total distance ÷ Time</div>
                                    <div class="step-calculation">Average speed = 180 m ÷ 60 s = 3 m/s</div>
                                    <div class="step-explanation">
                                        Average speed is a scalar quantity that considers only the magnitude of the total distance traveled, regardless of direction.
                            </div>
                                </div>
                                
                            <div class="solution-step" id="ex3-step4">
                                    <div class="step-label">Step 4: Calculate the average velocity</div>
                                    <div class="step-calculation">Average velocity = Displacement ÷ Time</div>
                                    <div class="step-calculation">Average velocity = 0 m ÷ 60 s = 0 m/s</div>
                                    <div class="step-explanation">
                                        Average velocity is a vector quantity that depends on displacement. Even though Usha was moving the entire time, her average velocity is zero because her displacement is zero.
                            </div>
                                </div>
                                
                            <div class="final-answer" id="ex3-answer">
                                    <div class="formula-highlight">Average speed = 3 m/s, Average velocity = 0 m/s</div>
                            </div>
                        </div>
                            
                            <div class="example-explanation" id="ex3-explanation">
                                <strong>Key Insight:</strong> This example perfectly illustrates the fundamental difference between speed and velocity:
                                <ul style="margin-top: 10px; margin-left: 20px;">
                                    <li><strong>Speed (scalar):</strong> Depends on total distance traveled (180 m)</li>
                                    <li><strong>Velocity (vector):</strong> Depends on displacement (0 m)</li>
                                </ul>
                                
                                <div style="margin-top: 10px;">
                                    If we had measured Usha's instantaneous velocity at different points during her swim, it would have been:
                                    <ul style="margin-top: 5px; margin-left: 20px;">
                                        <li>First half: Positive velocity (moving away from start)</li>
                                        <li>Second half: Negative velocity (moving toward start)</li>
                                    </ul>
                                    But the average over the entire journey is zero because the positive and negative components cancel out.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="examples-controls">
                    <button class="examples-nav-btn" id="prev-example">← Previous Example</button>
                    <div class="example-indicators" id="example-indicators">
                        <div class="example-indicator active" onclick="goToExample(0)"></div>
                        <div class="example-indicator" onclick="goToExample(1)"></div>
                        <div class="example-indicator" onclick="goToExample(2)"></div>
                    </div>
                    <button class="examples-nav-btn" id="next-example">Next Example →</button>
                </div>
            </div>

            <!-- Unit Conversion Demo -->
            <div class="conversion-demo" id="conversion-demo">
                <div class="conversion-container">
                    <div class="conversion-card">
                        <div class="conversion-title">km/h to m/s Conversion</div>
                        <div class="conversion-steps">
                            <div class="conversion-step">50 km/h</div>
                            <div class="conversion-arrow">↓</div>
                            <div class="conversion-step">50 × (1000 m / 1 km)</div>
                            <div class="conversion-arrow">↓</div>
                            <div class="conversion-step">50 × (1 h / 3600 s)</div>
                            <div class="conversion-arrow">↓</div>
                            <div class="conversion-step">50 × (1000/3600) = 13.9 m/s</div>
                        </div>
                    </div>

                    <div class="conversion-card">
                        <div class="conversion-title">Quick Conversion Formula</div>
                        <div class="formula">km/h × 5/18 = m/s</div>
                        <div class="formula">m/s × 18/5 = km/h</div>
                        <div class="conversion-steps">
                            <div class="conversion-step">Example: 72 km/h to m/s</div>
                            <div class="conversion-arrow">↓</div>
                            <div class="conversion-step">72 × (5/18) = 20 m/s</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Activities Demo -->
            <div class="activities-demo" id="activities-demo">
                <h2 style="color: #a855f7; text-align: center; margin-bottom: 30px;">NCERT Activities</h2>
                
                <div class="activities-grid">
                    <div class="activity-card">
                        <div class="activity-title">Activity 7.6: Walking Speed</div>
                        <ul class="activity-steps">
                            <li>Measure the time it takes you to walk from your house to your bus stop or school</li>
                            <li>Consider that your average walking speed is 4 km/h</li>
                            <li>Estimate the distance of the bus stop or school from your house</li>
                        </ul>
                        <div class="activity-calculation">
                            Formula: Distance = Speed × Time<br>
                            If time = 15 minutes = 0.25 h<br>
                            Distance = 4 km/h × 0.25 h = 1 km
                        </div>
                    </div>

                    <div class="activity-card">
                        <div class="activity-title">Activity 7.7: Thunder and Lightning</div>
                        <ul class="activity-steps">
                            <li>During cloudy weather, observe thunder and lightning</li>
                            <li>Sound of thunder takes time to reach you after seeing lightning</li>
                            <li>Measure this time interval using a stopwatch</li>
                            <li>Calculate the distance of lightning (Speed of sound = 346 m/s)</li>
                        </ul>
                        <div class="activity-calculation">
                            Formula: Distance = Speed × Time<br>
                            If time delay = 3 seconds<br>
                            Distance = 346 m/s × 3 s = 1038 m ≈ 1 km
                        </div>
                    </div>
                </div>
            </div>

            <!-- Questions Demo -->
            <div class="questions-demo" id="questions-demo">
                <h2 style="color: #a855f7; text-align: center; margin-bottom: 20px;">Practice Questions</h2>
                
                <div class="questions-container">
                    <div class="questions-slider" id="questions-slider">
                <div class="question-card">
                    <div class="question-number">Q1.</div>
                    <div class="question-text">
                        Distinguish between speed and velocity.
                    </div>
                    <button class="show-answer-btn" onclick="showAnswer(1)">Show Answer</button>
                    <div class="answer-section" id="answer-1">
                        <strong>Answer:</strong><br>
                        <strong>Speed:</strong> Rate of motion, scalar quantity, only magnitude, always positive<br>
                        <strong>Velocity:</strong> Speed with direction, vector quantity, has magnitude and direction, can be positive or negative
                    </div>
                </div>
                
                <div class="question-card">
                    <div class="question-number">Q2.</div>
                    <div class="question-text">
                        Under what condition(s) is the magnitude of average velocity of an object equal to its average speed?
                    </div>
                    <button class="show-answer-btn" onclick="showAnswer(2)">Show Answer</button>
                    <div class="answer-section" id="answer-2">
                        <strong>Answer:</strong> The magnitude of average velocity equals average speed when the object moves in a straight line 
                        without changing direction. In this case, displacement equals distance travelled.
                    </div>
                </div>
                
                <div class="question-card">
                    <div class="question-number">Q3.</div>
                    <div class="question-text">
                        What does the odometer of an automobile measure?
                    </div>
                    <button class="show-answer-btn" onclick="showAnswer(3)">Show Answer</button>
                    <div class="answer-section" id="answer-3">
                        <strong>Answer:</strong> An odometer measures the total distance travelled by the automobile. 
                        It does not measure displacement, only the actual path length covered.
                    </div>
                </div>
                
                <div class="question-card">
                    <div class="question-number">Q4.</div>
                    <div class="question-text">
                        What does the path of an object look like when it is in uniform motion?
                    </div>
                    <button class="show-answer-btn" onclick="showAnswer(4)">Show Answer</button>
                    <div class="answer-section" id="answer-4">
                        <strong>Answer:</strong> When an object is in uniform motion, its path is a straight line. 
                        The object covers equal distances in equal intervals of time along this straight path.
                    </div>
                </div>
                
                <div class="question-card">
                    <div class="question-number">Q5.</div>
                    <div class="question-text">
                        During an experiment, a signal from a spaceship reached the ground station in five minutes. 
                        What was the distance of the spaceship from the ground station? (Speed of light = 3 × 10⁸ m/s)
                    </div>
                    <button class="show-answer-btn" onclick="showAnswer(5)">Show Answer</button>
                    <div class="answer-section" id="answer-5">
                        <strong>Solution:</strong><br>
                        Given: Time = 5 minutes = 300 s, Speed = 3 × 10⁸ m/s<br>
                        Distance = Speed × Time<br>
                        Distance = 3 × 10⁸ × 300 = 9 × 10¹⁰ m<br>
                        <strong>Answer: 9 × 10¹⁰ meters</strong>
                            </div>
                        </div>
                    </div>
                    
                    <div class="questions-controls">
                        <button class="questions-nav-btn" id="prev-question">← Previous</button>
                        <div class="question-indicators" id="question-indicators">
                            <div class="question-indicator active" onclick="goToQuestion(0)"></div>
                            <div class="question-indicator" onclick="goToQuestion(1)"></div>
                            <div class="question-indicator" onclick="goToQuestion(2)"></div>
                            <div class="question-indicator" onclick="goToQuestion(3)"></div>
                            <div class="question-indicator" onclick="goToQuestion(4)"></div>
                        </div>
                        <button class="questions-nav-btn" id="next-question">Next →</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Controls -->
        <div class="controls">
            <div class="controls-title" id="demo-title">Explore Rate of Motion</div>
            
            <div class="demo-buttons">
                <button class="demo-btn" onclick="playCompleteLesson()">📚 Complete Lesson</button>
                <button class="demo-btn" onclick="showSpeedIntro()">🏃‍♂️ What is Speed?</button>
                <button class="demo-btn" onclick="showSpeedCalculation()">🧮 Speed Formula</button>
                <button class="demo-btn" onclick="showVelocityComparison()">🧭 Speed vs Velocity</button>
                <button class="demo-btn" onclick="showExamples()">📖 NCERT Examples</button>
                <button class="demo-btn" onclick="showUnitConversion()">🔄 Unit Conversion</button>
                <button class="demo-btn" onclick="showActivities()">🔬 Activities</button>
                <button class="demo-btn" onclick="showQuestions()">❓ Questions</button>
                <button class="demo-btn" onclick="resetAllClick()">🔄 Reset</button>
            </div>
        </div>

        <!-- Theory Section -->
        <div class="theory-section">
            <div class="concept-box">
                <div class="concept-box-title">Understanding Speed</div>
                <div class="concept-text">
                    Speed is the rate at which objects move. It tells us how fast an object is moving by measuring 
                    the distance travelled in unit time. Different objects can move at different rates - some fast, some slow.
                </div>
            </div>

            <div class="formula-highlight">
                <div class="main-formula">Speed = Distance ÷ Time</div>
                <div style="margin-top: 15px; line-height: 1.8; color: #e2e8f0;">
                    <strong>SI Unit:</strong> metre per second (m/s)<br>
                    <strong>Other Units:</strong> km/h, cm/s<br>
                    <strong>Average Speed:</strong> Total distance ÷ Total time
                </div>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0;">
                <div class="concept-box">
                    <div class="concept-box-title">Speed</div>
                    <div class="concept-text">
                        • Scalar quantity (only magnitude)<br>
                        • Always positive<br>
                        • No direction specified<br>
                        • Example: 60 km/h
                    </div>
                </div>
                <div class="concept-box">
                    <div class="concept-box-title">Velocity</div>
                    <div class="concept-text">
                        • Vector quantity (magnitude + direction)<br>
                        • Can be positive or negative<br>
                        • Direction must be specified<br>
                        • Example: 60 km/h north
                    </div>
                </div>
            </div>

            <div class="concept-box">
                <div class="concept-box-title">Key Points to Remember</div>
                <div class="concept-text">
                    • Speed is always positive, velocity can be positive or negative<br>
                    • Average velocity = (Initial velocity + Final velocity) ÷ 2 (for uniform acceleration)<br>
                    • When an object returns to its starting point, displacement = 0, so average velocity = 0<br>
                    • Odometer measures distance, not displacement<br>
                    • To convert km/h to m/s: multiply by 5/18<br>
                    • To convert m/s to km/h: multiply by 18/5
                </div>
            </div>
        </div>
    </div>

    <script>
        // Voice Teacher System
        class PhysicsTeacher {
            constructor() {
                this.isEnabled = globalAudioEnabled;
                this.currentUtterance = null;
                this.settings = { rate: 0.9, pitch: 1.0, volume: 0.85 };
                this.isDestroyed = false;
            }

            async speak(text, delay = 0) {
                if (!this.isEnabled || !text || this.isDestroyed) return;
                
                return new Promise((resolve) => {
                    setTimeout(() => {
                        if (this.isDestroyed) {
                            resolve();
                            return;
                        }
                        this.stop();
                        const utterance = new SpeechSynthesisUtterance(text);
                        Object.assign(utterance, this.settings);
                        
                        utterance.onend = resolve;
                        utterance.onerror = resolve;
                        
                        this.currentUtterance = utterance;
                        speechSynthesis.speak(utterance);
                    }, delay);
                });
            }

            stop() {
                speechSynthesis.cancel();
                this.currentUtterance = null;
            }

            destroy() {
                this.isDestroyed = true;
                this.stop();
                this.currentUtterance = null;
                this.settings = null;
            }
        }

        // Global state management
        let globalAudioEnabled = true;
        let currentTeacher = null;
        let isPlaying = false;
        let animationTimeline = null;
        let currentDemoAborted = false;
        let activeAnimations = [];
        let currentRunId = 0;
        let currentQuestionIndex = 0;
        let currentExampleIndex = 0;
        let currentDemoType = null;

        // State management functions
        function createNewTimeline() {
            if (animationTimeline) {
                animationTimeline.kill();
                animationTimeline = null;
            }
            activeAnimations.forEach(anim => {
                if (anim) anim.kill();
            });
            activeAnimations = [];
            gsap.killTweensOf("*");
            
            const newTimeline = gsap.timeline();
            animationTimeline = newTimeline;
            return newTimeline;
        }

        function trackAnimation(animation) {
            if (animation) {
                activeAnimations.push(animation);
            }
            return animation;
        }

        function stopCurrentDemo() {
            currentDemoAborted = true;
            currentRunId++;
            currentDemoType = null;
            
            // Stop teacher
            if (currentTeacher) {
                currentTeacher.destroy();
                currentTeacher = null;
            }
            
            // Kill all animations
            if (animationTimeline) {
                animationTimeline.kill();
                animationTimeline = null;
            }
            
            activeAnimations.forEach(anim => {
                if (anim) anim.kill();
            });
            activeAnimations = [];
            
            gsap.killTweensOf("*");
            
            // Hide all demos
            document.querySelectorAll('.speed-intro-demo, .speed-calc-demo, .velocity-demo, .examples-demo, .conversion-demo, .activities-demo, .questions-demo').forEach(demo => {
                demo.classList.remove('active');
            });
            
            isPlaying = false;
        }

        function shouldContinue(demoType = null) {
            if (currentDemoAborted) return false;
            if (demoType && currentDemoType && demoType !== currentDemoType) return false;
            return true;
        }

        function createNewTeacher(demoType = null) {
            if (currentTeacher) {
                currentTeacher.destroy();
                currentTeacher = null;
            }
            currentDemoAborted = false;
            if (demoType) {
                currentDemoType = demoType;
            }
            currentTeacher = new PhysicsTeacher();
            return currentTeacher;
        }

        // Initialize
        window.addEventListener('load', () => {
            const teacher = createNewTeacher();
            teacher.speak("Welcome to Measuring the Rate of Motion! Let's explore how we measure speed and velocity, and understand the difference between them!");
        });

        // Complete Lesson
        async function playCompleteLesson() {
            stopCurrentDemo();
            isPlaying = true;
            setActiveButton(0);
            
            const teacher = createNewTeacher('complete-lesson');
            
            await resetAll();
            await wait(100);
            if (!shouldContinue('complete-lesson')) return;
            
            updateTitle("📚 Complete Rate of Motion Lesson");
            
            await teacher.speak("Let's begin our complete lesson on Measuring the Rate of Motion. We'll understand speed, velocity, and how to calculate them.");
            if (!shouldContinue('complete-lesson')) return;
            
            // Start with speed introduction
            await showSpeedIntroInternal(teacher);
            if (!shouldContinue('complete-lesson')) return;
            
            await wait(2000);
            
            // Show speed calculation
            await teacher.speak("Now let's learn the mathematical formula for calculating speed.");
            if (!shouldContinue('complete-lesson')) return;
            await showSpeedCalculationInternal(teacher);
            if (!shouldContinue('complete-lesson')) return;
            
            await wait(2000);
            
            // Show velocity comparison
            await teacher.speak("Next, let's understand the important difference between speed and velocity.");
            if (!shouldContinue('complete-lesson')) return;
            await showVelocityComparisonInternal(teacher);
            if (!shouldContinue('complete-lesson')) return;
            
            await wait(2000);
            
            // Show examples
            await teacher.speak("Let's solve some NCERT examples to apply our understanding.");
            if (!shouldContinue('complete-lesson')) return;
            await showExamplesInternal(teacher);
            if (!shouldContinue('complete-lesson')) return;
            
            await wait(2000);
            
            // Show unit conversion
            await teacher.speak("Now let's learn how to convert between different units of speed.");
            if (!shouldContinue('complete-lesson')) return;
            await showUnitConversionInternal(teacher);
            if (!shouldContinue('complete-lesson')) return;
            
            await wait(2000);
            
            // Show activities
            await teacher.speak("Let's explore some practical activities to apply what we've learned.");
            if (!shouldContinue('complete-lesson')) return;
            await showActivitiesInternal(teacher);
            if (!shouldContinue('complete-lesson')) return;
            
            await wait(2000);
            
            // Show questions
            await teacher.speak("Finally, let's test your understanding with some practice questions.");
            if (!shouldContinue('complete-lesson')) return;
            await showQuestionsInternal(teacher);
            if (!shouldContinue('complete-lesson')) return;
            
            await teacher.speak("Excellent! You have completed the comprehensive lesson on Measuring the Rate of Motion. You now understand speed, velocity, calculations, unit conversions, and have practiced with real-world examples and questions!");
            
            isPlaying = false;
        }

        // Speed Introduction Demo
        async function showSpeedIntro() {
            stopCurrentDemo();
            isPlaying = true;
            setActiveButton(1);
            
            const teacher = createNewTeacher('speed-intro');
            await showSpeedIntroInternal(teacher);
            
            isPlaying = false;
        }

        async function showSpeedIntroInternal(teacher) {
            await resetAll();
            await wait(50);
            if (!shouldContinue()) return;
            
            updateTitle("🏃‍♂️ Understanding Speed");
            
            document.getElementById('speed-intro-demo').classList.add('active');
            await wait(50);
            if (!shouldContinue()) return;
            
            await teacher.speak("Let's understand what speed means by looking at real-world examples.");
            if (!shouldContinue()) return;
            
            await wait(1500);
            
            await teacher.speak("When we say a cricket ball has a bowling speed of 143 kilometers per hour, it means the ball travels 143 kilometers in one hour. This tells us the rate at which the ball is moving.");
            if (!shouldContinue()) return;
            
            await wait(3000);
            
            await teacher.speak("Similarly, a speed limit sign showing 60 kilometers per hour tells drivers the maximum rate at which they should move their vehicles on that road for safety.");
            if (!shouldContinue()) return;
            
            await wait(2500);
            
            await teacher.speak("Speed is simply the rate at which objects move - how much distance they cover in a given amount of time. Different objects can move at different rates!");
        }

        // Speed Calculation Demo
        async function showSpeedCalculation() {
            stopCurrentDemo();
            isPlaying = true;
            setActiveButton(2);
            
            const teacher = createNewTeacher('speed-calculation');
            await showSpeedCalculationInternal(teacher);
            
            isPlaying = false;
        }

        async function showSpeedCalculationInternal(teacher) {
            await resetAll();
            await wait(50);
            if (!shouldContinue()) return;
            
            updateTitle("🧮 Speed Formula and Calculator");
            
            document.getElementById('speed-calc-demo').classList.add('active');
            await wait(50);
            if (!shouldContinue()) return;
            
            await teacher.speak("The formula for speed is very simple: speed equals distance divided by time. Let's use the interactive calculator to practice!");
            if (!shouldContinue()) return;
            
            await wait(2500);
            
            await teacher.speak("Try entering different values for distance and time to see how speed is calculated. Remember, the SI unit of speed is meters per second.");
        }

        // Speed Calculator Function
        function calculateSpeed() {
            const distance = parseFloat(document.getElementById('distance-input').value);
            const time = parseFloat(document.getElementById('time-input').value);
            const resultDiv = document.getElementById('speed-result');
            
            if (isNaN(distance) || isNaN(time) || distance <= 0 || time <= 0) {
                resultDiv.innerHTML = '⚠️ Please enter valid positive values';
                return;
            }
            
            const speed = (distance / time).toFixed(2);
            const speedKmh = (speed * 3.6).toFixed(2);
            
            resultDiv.innerHTML = `
                <div>
                    <strong>Speed:</strong> ${speed} m/s<br>
                    <small>= ${speedKmh} km/h</small>
                </div>
            `;
            
            if (currentTeacher) {
                currentTeacher.speak(`The speed is ${speed} meters per second, which equals ${speedKmh} kilometers per hour.`);
            }
        }

        // Velocity Comparison Demo
        async function showVelocityComparison() {
            stopCurrentDemo();
            isPlaying = true;
            setActiveButton(3);
            
            const teacher = createNewTeacher('velocity-comparison');
            await showVelocityComparisonInternal(teacher);
            
            isPlaying = false;
        }

        async function showVelocityComparisonInternal(teacher) {
            await resetAll();
            await wait(50);
            if (!shouldContinue()) return;
            
            updateTitle("🧭 Speed vs Velocity");
            
            document.getElementById('velocity-demo').classList.add('active');
            await wait(50);
            if (!shouldContinue()) return;
            
            await teacher.speak("Now let's understand the crucial difference between speed and velocity.");
            if (!shouldContinue()) return;
            
            await wait(1500);
            
            await teacher.speak("Speed is a scalar quantity - it only tells us how fast something is moving. It has magnitude but no direction.");
            if (!shouldContinue()) return;
            
            await wait(2500);
            
            await teacher.speak("Velocity is a vector quantity - it tells us both how fast and in which direction something is moving. Velocity equals speed plus direction.");
            if (!shouldContinue()) return;
            
            await wait(2500);
            
            await teacher.speak("For example, saying a car moves at 60 kilometers per hour is speed. Saying it moves at 60 kilometers per hour north is velocity!");
        }

        // Examples Demo
        async function showExamples() {
            stopCurrentDemo();
            isPlaying = true;
            setActiveButton(4);
            
            const teacher = createNewTeacher();
            await showExamplesInternal(teacher);
            
            isPlaying = false;
        }

        async function showExamplesInternal(teacher) {
            await resetAll();
            await wait(50);
            if (!shouldContinue()) return;
            
            updateTitle("📖 NCERT Examples");
            
            document.getElementById('examples-demo').classList.add('active');
            initializeExamplesSlider();
            await wait(50);
            if (!shouldContinue()) return;
            
            await teacher.speak("Let's solve the NCERT examples step by step. Use the navigation buttons to move between examples and watch as each solution unfolds. I'll show you the complete approach for each problem.");
            if (!shouldContinue()) return;
            
            await wait(1500);
            
            // Show current example steps (whatever example is currently displayed)
            await animateCurrentExampleSteps(teacher);
        }
        
        async function animateCurrentExampleSteps(teacher) {
            const exampleIds = ['ex1', 'ex2', 'ex3'];
            const exampleIntros = [
                "Let's solve Example 7.1 about average speed calculation. An object travels 16 meters in 4 seconds, then another 16 meters in 2 seconds. We need to find the average speed.",
                "Now let's look at Example 7.2 about speed unit conversion. A car's odometer reads 2000 kilometers at the start and 2400 kilometers at the end of an 8-hour trip. We need to calculate the average speed in both km/h and m/s.",
                "Example 7.3 demonstrates the difference between speed and velocity. Usha swims in a 90-meter pool, going from one end to the other and back in one minute. We'll find both her average speed and average velocity."
            ];
            
            const stepExplanations = [
                [
                    "First, let's identify what information we have. The object travels 16 meters in 4 seconds, and then another 16 meters in 2 seconds.",
                    "Next, we calculate the total distance traveled. Adding both distances, we get 16 meters plus 16 meters, which equals 32 meters total.",
                    "Then, we calculate the total time taken. Adding both time intervals, we get 4 seconds plus 2 seconds, which equals 6 seconds total.",
                    "Finally, we apply the average speed formula: average speed equals total distance divided by total time. So that's 32 meters divided by 6 seconds, which equals 5.33 meters per second."
                ],
                [
                    "First, we identify what we know. The initial odometer reading is 2000 kilometers, the final reading is 2400 kilometers, and the trip took 8 hours.",
                    "Next, we calculate the total distance traveled. Subtracting the initial reading from the final reading, we get 2400 minus 2000, which equals 400 kilometers.",
                    "Then, we calculate the average speed in kilometers per hour. That's 400 kilometers divided by 8 hours, which equals 50 kilometers per hour.",
                    "Finally, we convert from kilometers per hour to meters per second. We multiply by 1000 and divide by 3600, or multiply by 0.278, which gives us 13.9 meters per second."
                ],
                [
                    "First, let's identify what we know. The pool is 90 meters long, Usha swims from one end to the other and back, covering a total distance of 180 meters in 60 seconds.",
                    "Next, we calculate the displacement. Since Usha returns to her starting point, her displacement is 0 meters.",
                    "Then, we calculate her average speed. That's total distance divided by time, which is 180 meters divided by 60 seconds, giving us 3 meters per second.",
                    "Finally, we calculate her average velocity. That's displacement divided by time, which is 0 meters divided by 60 seconds, giving us 0 meters per second."
                ]
            ];
            
            const explanations = [
                "This example shows how to calculate average speed by dividing total distance by total time. Even though the object moved at different speeds during different parts of its journey, we consider the entire journey for average speed. The object traveled faster in the second part (8 m/s) than in the first part (4 m/s), but its average speed was 5.33 m/s.",
                "This example demonstrates how to calculate average speed and convert between different units. The odometer gives us the total distance traveled. By dividing this by the time taken, we get the average speed. Converting between km/h and m/s is an important skill in physics, as SI units are preferred for calculations.",
                "This example perfectly illustrates the key difference between speed and velocity. Speed is a scalar quantity that only considers the magnitude of motion, while velocity is a vector quantity that also considers direction. Even though Usha moved with a non-zero speed of 3 m/s, her average velocity was zero because she ended up at the same position where she started."
            ];
            
            // Visual animations for each example
            const visualAnimations = [
                // Example 7.1 animation
                async function() {
                    // Animate the object moving along the first segment
                    trackAnimation(gsap.to('#object1', {
                        cx: 200,
                        duration: 2,
                        ease: "power1.inOut"
                    }));
                    await wait(2200);
            if (!shouldContinue()) return;
            
                    // Animate the object moving along the second segment
                    trackAnimation(gsap.to('#object1', {
                        cx: 350,
                        duration: 1,
                        ease: "power1.inOut"
                    }));
                    await wait(1200);
            if (!shouldContinue()) return;
            
                    // Show total distance and time
                    trackAnimation(gsap.to('#total-dist', {
                        opacity: 1,
                        duration: 0.5
                    }));
                    await wait(500);
                    if (!shouldContinue()) return;
                    
                    trackAnimation(gsap.to('#total-time', {
                        opacity: 1,
                        duration: 0.5
                    }));
                    await wait(500);
            if (!shouldContinue()) return;
            
                    // Show average speed
                    trackAnimation(gsap.to('#avg-speed', {
                        opacity: 1,
                        duration: 0.5
                    }));
                },
                
                // Example 7.2 animation
                async function() {
                    // Animate car moving along the road
                    trackAnimation(gsap.to('#car', {
                        x: 300,
                        duration: 3,
                        ease: "power1.inOut"
                    }));
                    await wait(3200);
            if (!shouldContinue()) return;
            
                    // Show distance and time
                    trackAnimation(gsap.to('#distance-text', {
                        opacity: 1,
                        duration: 0.5
                    }));
                    await wait(500);
                    if (!shouldContinue()) return;
                    
                    trackAnimation(gsap.to('#time-text', {
                        opacity: 1,
                        duration: 0.5
                    }));
                    await wait(500);
            if (!shouldContinue()) return;
            
                    // Show speed calculation
                    trackAnimation(gsap.to('#speed-text', {
                        opacity: 1,
                        duration: 0.5
                    }));
                },
                
                // Example 7.3 animation
                async function() {
                    // Animate swimmer going from one end to the other
                    trackAnimation(gsap.to('#swimmer', {
                        x: 300,
                        duration: 2,
                        ease: "power1.inOut"
                    }));
                    await wait(2200);
                    if (!shouldContinue()) return;
                    
                    // Animate swimmer returning
                    trackAnimation(gsap.to('#swimmer', {
                        x: 0,
                        duration: 2,
                        ease: "power1.inOut"
                    }));
                    await wait(2200);
                    if (!shouldContinue()) return;
                    
                    // Show displacement line (which is zero)
                    trackAnimation(gsap.to('#displacement-line', {
                        opacity: 1,
                        duration: 0.5
                    }));
                    await wait(500);
                    if (!shouldContinue()) return;
                    
                    // Show results
                    trackAnimation(gsap.to('#results-text', {
                        opacity: 1,
                        duration: 0.5
                    }));
                }
            ];
            
            if (!shouldContinue()) return;
            
            const currentExampleId = exampleIds[currentExampleIndex];
            
            // Introduce the example
            await teacher.speak(exampleIntros[currentExampleIndex]);
            if (!shouldContinue()) return;
            
            // Run the visual animation for this example
            try {
                await visualAnimations[currentExampleIndex]();
                if (!shouldContinue()) return;
            } catch (error) {
                console.error("Error in visual animation:", error);
            }
            
            // Animate each step with detailed explanation
            for (let i = 1; i <= 4; i++) {
                const stepElement = document.getElementById(`${currentExampleId}-step${i}`);
                if (stepElement) {
                    // Make the step visible with animation
                    trackAnimation(gsap.to(stepElement, {
                        duration: 0.5,
                        opacity: 1,
                        y: 0,
                        ease: "power2.out"
                    }));
                    stepElement.classList.add('show');
                    
                    await teacher.speak(stepExplanations[currentExampleIndex][i-1]);
                    await wait(1000);
                    if (!shouldContinue()) return;
                }
            }
            
            // Show the final answer
            const answerElement = document.getElementById(`${currentExampleId}-answer`);
            if (answerElement) {
                trackAnimation(gsap.to(answerElement, {
                    duration: 0.8,
                    opacity: 1,
                    scale: 1,
                    ease: "back.out(1.7)"
                }));
                await wait(1000);
                if (!shouldContinue()) return;
            }
            
            // Provide a comprehensive explanation
            await teacher.speak(explanations[currentExampleIndex]);
            
            // Show the detailed explanation text
            const explanationElement = document.getElementById(`${currentExampleId}-explanation`);
            if (explanationElement) {
                trackAnimation(gsap.to(explanationElement, {
                    duration: 0.8,
                    opacity: 1,
                    y: 0,
                    ease: "power2.out"
                }));
            }
        }

        async function animateExampleSteps(exampleId, stepCount) {
            for (let i = 1; i <= stepCount; i++) {
                const stepElement = document.getElementById(`${exampleId}-step${i}`);
                if (stepElement) {
                    stepElement.classList.add('show');
                    await wait(1000);
                    if (!shouldContinue()) return;
                }
            }
            
            const answerElement = document.getElementById(`${exampleId}-answer`);
            if (answerElement) {
                trackAnimation(gsap.to(answerElement, {
                    duration: 0.8,
                    opacity: 1,
                    scale: 1,
                    ease: "back.out(1.7)"
                }));
                await wait(1500);
            }
        }

        // Unit Conversion Demo
        async function showUnitConversion() {
            stopCurrentDemo();
            isPlaying = true;
            setActiveButton(5);
            
            const teacher = createNewTeacher();
            await showUnitConversionInternal(teacher);
            
            isPlaying = false;
        }

        async function showUnitConversionInternal(teacher) {
            await resetAll();
            await wait(50);
            if (!shouldContinue()) return;
            
            updateTitle("🔄 Unit Conversion");
            
            document.getElementById('conversion-demo').classList.add('active');
            await wait(50);
            if (!shouldContinue()) return;
            
            await teacher.speak("Converting between kilometers per hour and meters per second is very important in physics problems.");
            if (!shouldContinue()) return;
            
            await wait(2500);
            
            await teacher.speak("To convert from kilometers per hour to meters per second, multiply by 5 over 18. To convert back, multiply by 18 over 5.");
            if (!shouldContinue()) return;
            
            await wait(2500);
            
            await teacher.speak("For example, 50 kilometers per hour equals 50 times 5 over 18, which equals 13.9 meters per second.");
        }

        // Activities Demo
        async function showActivities() {
            stopCurrentDemo();
            isPlaying = true;
            setActiveButton(6);
            
            const teacher = createNewTeacher();
            await showActivitiesInternal(teacher);
            
            isPlaying = false;
        }

        async function showActivitiesInternal(teacher) {
            await resetAll();
            await wait(50);
            if (!shouldContinue()) return;
            
            updateTitle("🔬 NCERT Activities");
            
            document.getElementById('activities-demo').classList.add('active');
            await wait(50);
            if (!shouldContinue()) return;
            
            await teacher.speak("Let's explore the NCERT activities that help us understand speed in real-world situations.");
            if (!shouldContinue()) return;
            
            await wait(2000);
            
            await teacher.speak("Activity 7.6 helps you estimate distances using your walking speed. If you know your speed and measure time, you can calculate distance.");
            if (!shouldContinue()) return;
            
            await wait(3000);
            
            await teacher.speak("Activity 7.7 uses the time delay between lightning and thunder to calculate distance. Since light travels much faster than sound, we see lightning before hearing thunder!");
        }

        // Questions Demo
        async function showQuestions() {
            stopCurrentDemo();
            isPlaying = true;
            setActiveButton(7);
            
            const teacher = createNewTeacher();
            await showQuestionsInternal(teacher);
            
            isPlaying = false;
        }

        async function showQuestionsInternal(teacher) {
            await resetAll();
            await wait(50);
            if (!shouldContinue()) return;
            
            updateTitle("❓ Practice Questions");
            
            document.getElementById('questions-demo').classList.add('active');
            initializeQuestionsSlider();
            await wait(50);
            if (!shouldContinue()) return;
            
            await teacher.speak("Let's test your understanding with practice questions from the NCERT textbook. Use the navigation buttons to move between questions and click 'Show Answer' to see detailed explanations.");
            if (!shouldContinue()) return;
        }

        // Questions Slider Functions
        function initializeQuestionsSlider() {
            currentQuestionIndex = 0;
            
            // Clone and replace buttons to remove old event listeners
            const prevBtn = document.getElementById('prev-question');
            const nextBtn = document.getElementById('next-question');
            
            const newPrevBtn = prevBtn.cloneNode(true);
            const newNextBtn = nextBtn.cloneNode(true);
            
            prevBtn.replaceWith(newPrevBtn);
            nextBtn.replaceWith(newNextBtn);
            
            // Re-query the new buttons
            const updatedPrevBtn = document.getElementById('prev-question');
            const updatedNextBtn = document.getElementById('next-question');
            
            // Add event listeners
            updatedPrevBtn.addEventListener('click', (e) => {
                e.preventDefault();
                console.log('Previous button clicked');
                if (currentQuestionIndex > 0) {
                    currentQuestionIndex--;
                    updateQuestionsSlider();
                }
            });
            
            updatedNextBtn.addEventListener('click', (e) => {
                e.preventDefault();
                console.log('Next button clicked');
                if (currentQuestionIndex < 4) {
                    currentQuestionIndex++;
                    updateQuestionsSlider();
                }
            });
            
            updateQuestionsSlider();
        }

        function updateQuestionsSlider() {
            const questionsSlider = document.getElementById('questions-slider');
            const indicators = document.querySelectorAll('.question-indicator');
            const prevBtn = document.getElementById('prev-question');
            const nextBtn = document.getElementById('next-question');
            
            // Update slider position
            questionsSlider.style.transform = `translateX(-${currentQuestionIndex * 20}%)`;
            
            // Update indicators
            indicators.forEach((indicator, index) => {
                indicator.classList.toggle('active', index === currentQuestionIndex);
            });
            
            // Update button states
            prevBtn.disabled = currentQuestionIndex === 0;
            nextBtn.disabled = currentQuestionIndex === 4;
            
            console.log(`Updated to question ${currentQuestionIndex + 1}`);
        }

        function goToQuestion(index) {
            currentQuestionIndex = index;
            updateQuestionsSlider();
        }
        
        // Examples Slider Functions
        function initializeExamplesSlider() {
            currentExampleIndex = 0;
            
            // Clone and replace buttons to remove old event listeners
            const prevBtn = document.getElementById('prev-example');
            const nextBtn = document.getElementById('next-example');
            
            const newPrevBtn = prevBtn.cloneNode(true);
            const newNextBtn = nextBtn.cloneNode(true);
            
            prevBtn.replaceWith(newPrevBtn);
            nextBtn.replaceWith(newNextBtn);
            
            // Re-query the new buttons
            const updatedPrevBtn = document.getElementById('prev-example');
            const updatedNextBtn = document.getElementById('next-example');
            
            // Add event listeners
            updatedPrevBtn.addEventListener('click', (e) => {
                e.preventDefault();
                console.log('Previous example button clicked');
                if (currentExampleIndex > 0) {
                    // Stop current speech and abort any running animations
                    if (currentTeacher) {
                        currentTeacher.stop();
                    }
                    currentDemoAborted = true;
                    setTimeout(() => {
                        currentDemoAborted = false;
                        currentExampleIndex--;
                        updateExamplesSlider(true);
                    }, 100);
                }
            });
            
            updatedNextBtn.addEventListener('click', (e) => {
                e.preventDefault();
                console.log('Next example button clicked');
                if (currentExampleIndex < 2) {
                    // Stop current speech and abort any running animations
                    if (currentTeacher) {
                        currentTeacher.stop();
                    }
                    currentDemoAborted = true;
                    setTimeout(() => {
                        currentDemoAborted = false;
                        currentExampleIndex++;
                        updateExamplesSlider(true);
                    }, 100);
                }
            });
            
            updateExamplesSlider();
        }

        function updateExamplesSlider(shouldStartNarration = false) {
            const examplesSlider = document.getElementById('examples-slider');
            const indicators = document.querySelectorAll('.example-indicator');
            const prevBtn = document.getElementById('prev-example');
            const nextBtn = document.getElementById('next-example');
            
            // Update slider position
            examplesSlider.style.transform = `translateX(-${currentExampleIndex * 33.333}%)`;
            
            // Update indicators
            indicators.forEach((indicator, index) => {
                indicator.classList.toggle('active', index === currentExampleIndex);
            });
            
            // Update button states
            prevBtn.disabled = currentExampleIndex === 0;
            nextBtn.disabled = currentExampleIndex === 2;
            
            console.log(`Updated to example ${currentExampleIndex + 1}`);
            
            // Reset solution steps for all examples
            document.querySelectorAll('.solution-step, .final-answer').forEach(step => {
                step.classList.remove('show');
                gsap.set(step, { opacity: 0, y: 10 });
            });
            
            // Reset example explanations
            document.querySelectorAll('.example-explanation').forEach(explanation => {
                gsap.set(explanation, { opacity: 0, y: 10 });
            });
            
            // Reset visual elements for example 1
            gsap.set('#object1', { cx: 50 });
            gsap.set('#total-dist, #total-time, #avg-speed', { opacity: 0 });
            
            // Reset visual elements for example 2
            gsap.set('#car', { x: 0 });
            gsap.set('#distance-text, #time-text, #speed-text', { opacity: 0 });
            
            // Reset visual elements for example 3
            gsap.set('#swimmer', { x: 0 });
            gsap.set('#displacement-line', { opacity: 0 });
            gsap.set('#results-text', { opacity: 0 });
            
            // Start narration for the current example if requested
            if (shouldStartNarration && currentTeacher) {
                setTimeout(() => {
                    if (currentTeacher && !currentDemoAborted) {
                        animateCurrentExampleSteps(currentTeacher);
                    }
                }, 200);
            }
        }

        function goToExample(index) {
            // Stop current speech and abort any running animations
            if (currentTeacher) {
                currentTeacher.stop();
            }
            currentDemoAborted = true;
            setTimeout(() => {
                currentDemoAborted = false;
                currentExampleIndex = index;
                updateExamplesSlider(true);
            }, 100);
        }

        // Show answer function
        function showAnswer(questionNumber) {
            const answerSection = document.getElementById(`answer-${questionNumber}`);
            answerSection.classList.add('show');
            
            if (currentTeacher) {
                const answers = {
                    1: "Speed is scalar with only magnitude, while velocity is vector with both magnitude and direction.",
                    2: "Average velocity magnitude equals average speed when motion is in a straight line without changing direction.",
                    3: "An odometer measures the total distance travelled by the automobile.",
                    4: "In uniform motion, the object's path is a straight line.",
                    5: "The spaceship was 9 times 10 to the power 10 meters away from the ground station."
                };
                currentTeacher.speak(answers[questionNumber]);
            }
        }

        // Helper Functions
        async function resetAll() {
            if (animationTimeline) {
                animationTimeline.kill();
                animationTimeline = null;
            }
            gsap.killTweensOf("*");
            
            activeAnimations.forEach(anim => {
                if (anim) anim.kill();
            });
            activeAnimations = [];
            
            if (currentTeacher) {
                currentTeacher.stop();
            }
            
            // Hide all demos
            document.querySelectorAll('.speed-intro-demo, .speed-calc-demo, .velocity-demo, .examples-demo, .conversion-demo, .activities-demo, .questions-demo').forEach(demo => {
                demo.classList.remove('active');
            });
            
            updateTitle("Explore Rate of Motion");
            
            // Reset calculator
            document.getElementById('distance-input').value = '';
            document.getElementById('time-input').value = '';
            document.getElementById('speed-result').innerHTML = 'Enter distance and time to calculate speed';
            
            // Reset example steps
            document.querySelectorAll('.solution-step, .final-answer').forEach(step => {
                step.classList.remove('show');
                gsap.set(step, { opacity: 0, scale: 0.9 });
            });
            
            // Reset answer sections
            document.querySelectorAll('.answer-section').forEach(section => {
                section.classList.remove('show');
            });
            
            // Reset questions slider
            currentQuestionIndex = 0;
            const questionsSlider = document.getElementById('questions-slider');
            if (questionsSlider) {
                questionsSlider.style.transform = 'translateX(0%)';
            }
            
            // Reset examples slider
            currentExampleIndex = 0;
            const examplesSlider = document.getElementById('examples-slider');
            if (examplesSlider) {
                examplesSlider.style.transform = 'translateX(0%)';
            }
            
            await wait(500);
        }

        function updateTitle(title) {
            document.getElementById('demo-title').textContent = title;
        }

        function setActiveButton(index) {
            document.querySelectorAll('.demo-btn').forEach((btn, i) => {
                btn.classList.toggle('active', i === index);
            });
        }

        function wait(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }

        // Reset Button Handler
        async function resetAllClick() {
            stopCurrentDemo();
            isPlaying = false;
            await resetAll();
        }

        // Audio Control
        document.getElementById('mute-btn').addEventListener('click', () => {
            globalAudioEnabled = !globalAudioEnabled;
            document.getElementById('mute-btn').classList.toggle('muted', !globalAudioEnabled);
            
            if (!globalAudioEnabled && currentTeacher) {
                currentTeacher.stop();
            }
        });

        // Enter key support for calculator
        document.getElementById('distance-input').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                calculateSpeed();
            }
        });

        document.getElementById('time-input').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                calculateSpeed();
            }
        });
    </script>
</body>
</html>